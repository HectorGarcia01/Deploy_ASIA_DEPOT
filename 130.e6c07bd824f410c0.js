"use strict";(self.webpackChunkFrontend_ASIA_DEPOT=self.webpackChunkFrontend_ASIA_DEPOT||[]).push([[130],{130:(w,m,i)=>{i.r(m),i.d(m,{AuthModule:()=>U});var d=i(6895),n=i(433),a=i(5808),o=i(8256),g=i(9616),p=i(6428),v=i(2150),f=i(3310);function h(e,l){1&e&&(o.TgZ(0,"div",20),o._uU(1," El correo es obligatorio. "),o.qZA())}function A(e,l){1&e&&(o.TgZ(0,"div",20),o._uU(1," El correo no es v\xe1lido. "),o.qZA())}function b(e,l){1&e&&(o.TgZ(0,"div",20),o._uU(1," La contrase\xf1a es obligatoria. "),o.qZA())}const Z=function(){return["/login"]},F=function(){return["/signup"]},T=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class e{constructor(r,t,s,u){this.fb=r,this.authService=t,this.customAlertService=s,this.router=u,this.customerData=[],this.validateForm()}ngOnInit(){}validateForm(){this.loginForm=new n.cw({correo:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required])})}singIn(){if(this.loginForm.valid){const r={correo:this.loginForm.get("correo")?.value,password:this.loginForm.get("password")?.value};this.authService.singIn("http://3.144.81.64:3000/usuario/login",r).subscribe(t=>{this.authService.saveCookieAuth(),"Admin"===t.userRole||"SuperAdmin"===t.userRole?(this.customAlertService.sweetAlertPersonalizada("success","Exitoso",`Bienvenido ${t.user.Nombre_Empleado} ${t.user.Apellido_Empleado}`),this.router.navigate(["/admin"])):(this.customerData=t.user,this.customAlertService.sweetAlertPersonalizada("success","Exitoso",`Bienvenido ${t.user.Nombre_Cliente} ${t.user.Apellido_Cliente}`),this.router.navigate(["/home"]))},t=>{console.log(t.error),this.customAlertService.sweetAlertPersonalizada("error","Error",t.error.error)})}}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(n.qu),o.Y36(g.e),o.Y36(p.y),o.Y36(a.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:39,vars:8,consts:[[1,"container","mt-2","mb-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"tab-content"],["id","pills-login","role","tabpanel","aria-labelledby","tab-login",1,"tab-pane","fade","show","active"],[1,"border","border-2","border-dark","p-5",3,"formGroup","ngSubmit"],[1,"text-center","mb-3"],["type","button",1,"btn","btn-secondary","btn-floating","mx-1"],[1,"fab","fa-google"],[1,"text-center"],[1,"form-outline","mb-4"],["for","loginName",1,"form-label"],["type","email","formControlName","correo","id","loginName",1,"form-control"],["class","text-danger",4,"ngIf"],["for","loginPassword",1,"form-label"],["type","password","formControlName","password","id","loginPassword",1,"form-control"],[1,"row","mb-4"],[1,"col-md-12","d-flex","justify-content-center"],[3,"routerLink"],["type","submit",1,"btn","btn-primary","btn-block","w-75"],[1,"text-danger"]],template:function(r,t){if(1&r&&(o._UZ(0,"app-nav-bar"),o.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"form",5),o.NdJ("ngSubmit",function(){return t.singIn()}),o.TgZ(7,"div",6)(8,"p"),o._uU(9,"Inicia sesi\xf3n con:"),o.qZA(),o.TgZ(10,"button",7),o._UZ(11,"i",8),o.qZA()(),o.TgZ(12,"p",9),o._uU(13,"o:"),o.qZA(),o.TgZ(14,"div",10)(15,"label",11),o._uU(16,"Correo"),o.qZA(),o._UZ(17,"input",12),o.YNc(18,h,2,0,"div",13),o.YNc(19,A,2,0,"div",13),o.qZA(),o.TgZ(20,"div",10)(21,"label",14),o._uU(22,"Contrase\xf1a"),o.qZA(),o._UZ(23,"input",15),o.YNc(24,b,2,0,"div",13),o.qZA(),o.TgZ(25,"div",16)(26,"div",17)(27,"a",18),o._uU(28,"\xbfOlvid\xf3 la contrase\xf1a?"),o.qZA()()(),o.TgZ(29,"div",16)(30,"div",17)(31,"button",19),o._uU(32,"Iniciar sesi\xf3n"),o.qZA()()(),o.TgZ(33,"div",9)(34,"p"),o._uU(35,"\xbfNo posees una cuenta? "),o.TgZ(36,"a",18),o._uU(37,"Reg\xedstrate"),o.qZA()()()()()()()()(),o._UZ(38,"app-footer")),2&r){let s,u,c;o.xp6(6),o.Q6J("formGroup",t.loginForm),o.xp6(12),o.Q6J("ngIf",(null==(s=t.loginForm.get("correo"))?null:s.hasError("required"))&&(null==(s=t.loginForm.get("correo"))?null:s.touched)),o.xp6(1),o.Q6J("ngIf",(null==(u=t.loginForm.get("correo"))?null:u.hasError("email"))&&(null==(u=t.loginForm.get("correo"))?null:u.touched)),o.xp6(5),o.Q6J("ngIf",(null==(c=t.loginForm.get("password"))?null:c.hasError("required"))&&(null==(c=t.loginForm.get("password"))?null:c.touched)),o.xp6(3),o.Q6J("routerLink",o.DdM(6,Z)),o.xp6(9),o.Q6J("routerLink",o.DdM(7,F))}},dependencies:[d.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,a.rH,v.w,f.c]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[a.Bz.forChild(T),a.Bz]}),e})();var I=i(335);let U=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[d.ez,n.UX,n.u5,C,I.d]}),e})()}}]);