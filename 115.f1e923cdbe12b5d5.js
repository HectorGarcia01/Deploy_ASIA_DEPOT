"use strict";(self.webpackChunkFrontend_ASIA_DEPOT=self.webpackChunkFrontend_ASIA_DEPOT||[]).push([[115],{9115:(B,Z,u)=>{u.r(Z),u.d(Z,{ProductsModule:()=>K});var p=u(6895),c=u(433),l=u(5808),d=u(1548),t=u(8256),g=u(9616),m=u(3809),_=u(3650),x=u(274),h=u(6428),v=u(2150),b=u(3310);function T(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"li",4)(1,"a",15),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.getProductsCategory(a.id))}),t._uU(2),t.qZA()()}if(2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.Nombre_Categoria)}}function w(o,n){1&o&&(t.TgZ(0,"div",16)(1,"div",17)(2,"h5"),t._uU(3," Lo sentimos, no se encontraron productos en esta categor\xeda. \xa1Por favor, elige otra categor\xeda o vuelve m\xe1s tarde! "),t.qZA(),t._UZ(4,"img",18),t.qZA()())}function k(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.addProductCart(i.id))}),t._UZ(1,"i",37),t.qZA()}}function O(o,n){1&o&&(t.TgZ(0,"button",38),t._UZ(1,"i",37),t.qZA())}const f=function(o){return["/product/detail",o]};function S(o,n){if(1&o&&(t.TgZ(0,"button",39),t._UZ(1,"i",40),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,f,e.id))}}function y(o,n){1&o&&(t.TgZ(0,"button",38),t._UZ(1,"i",40),t.qZA())}function q(o,n){if(1&o&&(t.TgZ(0,"a",41),t._uU(1,"Ver detalles"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,f,e.id))}}function U(o,n){1&o&&(t.TgZ(0,"button",42),t._uU(1,"Agotado"),t.qZA())}function M(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"div",21),t._UZ(3,"img",22),t.TgZ(4,"div",23),t.YNc(5,k,2,0,"button",24),t.YNc(6,O,2,0,"button",25),t.TgZ(7,"button",26),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.addFavoriteProduct(a.id))}),t._UZ(8,"i",27),t.qZA(),t.YNc(9,S,2,3,"button",28),t.YNc(10,y,2,0,"button",25),t.qZA()(),t.TgZ(11,"div",29)(12,"a",30)(13,"h4"),t._uU(14),t.qZA()(),t.TgZ(15,"h5"),t._uU(16),t.qZA(),t.TgZ(17,"div",31)(18,"h5",32),t._uU(19),t.qZA(),t.TgZ(20,"h6",33)(21,"del"),t._uU(22),t.qZA()()(),t.TgZ(23,"div",34),t.YNc(24,q,2,3,"a",35),t.YNc(25,U,2,0,"button",36),t.qZA()()()()}if(2&o){const e=n.$implicit;t.xp6(5),t.Q6J("ngIf",e.Cantidad_Stock>0),t.xp6(1),t.Q6J("ngIf",0==e.Cantidad_Stock),t.xp6(3),t.Q6J("ngIf",e.Cantidad_Stock>0),t.xp6(1),t.Q6J("ngIf",0==e.Cantidad_Stock),t.xp6(2),t.Q6J("routerLink",t.VKq(11,f,e.id)),t.xp6(2),t.Oqu(e.Nombre_Producto),t.xp6(2),t.hij("Cantidad disponible: ",e.Cantidad_Stock,""),t.xp6(3),t.hij("Q",e.Precio_Venta,""),t.xp6(3),t.hij("Q",e.Precio_Venta,""),t.xp6(2),t.Q6J("ngIf",e.Cantidad_Stock>0),t.xp6(1),t.Q6J("ngIf",0==e.Cantidad_Stock)}}function F(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"li",45)(1,"a",50),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.changePage(a))}),t._uU(2),t.qZA()()}if(2&o){const e=n.$implicit,r=t.oxw(2);t.ekj("active",r.currentPage===e),t.xp6(2),t.Oqu(e)}}function E(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"nav",43)(1,"ul",44)(2,"li",45)(3,"a",46),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changePage(i.currentPage-1))}),t.TgZ(4,"span",47),t._uU(5,"\xab"),t.qZA()()(),t.YNc(6,F,3,3,"li",48),t.TgZ(7,"li",45)(8,"a",49),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changePage(i.currentPage+1))}),t.TgZ(9,"span",47),t._uU(10,"\xbb"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.ekj("disabled",1===e.currentPage),t.xp6(4),t.Q6J("ngForOf",e.getPagesArray()),t.xp6(1),t.ekj("disabled",e.currentPage===e.totalPages)}}let A=(()=>{class o{constructor(e,r,i,a,s){this.authService=e,this.productService=r,this.shoppingCartService=i,this.categoryService=a,this.customAlertService=s,this.category=[],this.product=[],this.prducts=[],this.totalPages=0,this.currentPage=1,this.pageSize=8,this.msgError=""}ngOnInit(){this.scrollToTop(),this.getCategories(),this.getProducts()}getCategories(){this.categoryService.getCategories(`${d.Q}/usuario/ver/categorias`).subscribe(e=>{this.category=e.categories,this.totalPages=e.totalPages,this.currentPage=e.currentPage})}getProducts(){try{this.productService.getProducts(`${d.Q}/usuario/ver/productos?estado=Activo`,this.currentPage,this.pageSize).subscribe({next:e=>{this.product=e.products,this.totalPages=e.totalPages,this.currentPage=e.currentPage,this.msgError=""},error:e=>{this.customAlertService.sweetAlertPersonalizada("error","Error",e.error.error)}})}catch(e){console.log(e.error)}}getProductsCategory(e){try{this.productService.getProducts(`${d.Q}/usuario/ver/productos?estado=Activo&categoria=${e}`,this.currentPage,this.pageSize).subscribe({next:r=>{this.product=r.products,this.totalPages=r.totalPages,this.currentPage=r.currentPage,this.msgError=""},error:r=>{this.msgError=r.error.error,this.product=[],this.totalPages=0}})}catch(r){console.log(r.error)}}addFavoriteProduct(e){try{if(!this.authService.isAuthenticated())return this.customAlertService.sweetAlertPersonalizada("error","Sin autenticaci\xf3n","Para agregar un producto a favoritos primero debes de iniciar sesi\xf3n.");this.productService.addFavoriteProduct(`${d.Q}/usuario/agregar/producto/favorito`,e).subscribe({next:r=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",r.msg)},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Lo siento",r.error.error)}})}catch(r){console.log(r.error)}}changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.getProducts(),this.scrollToTop())}getPagesArray(){const e=[];for(let r=1;r<=this.totalPages;r++)e.push(r);return e}addProductCart(e){try{if(!this.authService.isAuthenticated())return this.customAlertService.sweetAlertPersonalizada("error","Sin autenticaci\xf3n","Para agregar un producto al carrito primero debes de iniciar sesi\xf3n.");this.shoppingCartService.addProductCart(`${d.Q}/usuario/carrito/agregar`,{ID_Producto_FK:e,Cantidad_Producto:1}).subscribe({next:i=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",i.msg),this.getProducts()},error:i=>{this.customAlertService.sweetAlertPersonalizada("error","Error",i.error.error)}})}catch(r){console.log(r.error)}}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.e),t.Y36(m.M),t.Y36(_.F),t.Y36(x.H),t.Y36(h.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-list"]],decls:21,vars:4,consts:[[1,"container-fluid","pt-5","pb-3"],[1,"mx-xl-5","mb-4","text-center"],[1,"row","px-xl-5"],[1,"nav","nav-pills"],[1,"nav-item"],[1,"nav-link","active",3,"click"],["class","nav-item",4,"ngFor","ngForOf"],[1,"col-md-12","mb-5","d-flex","justify-content-center","mt-4"],["role","search",1,"d-flex"],["type","search","placeholder","Bucar producto","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"],["class","row justify-content-center align-items-center",4,"ngIf"],["class","col-lg-3 col-md-4 col-sm-6 pb-1",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["aria-label","Page navigation example",4,"ngIf"],[1,"nav-link",3,"click"],[1,"row","justify-content-center","align-items-center"],[1,"col-12","text-center"],["width","300","height","300","src","assets/404.jpg","alt","Error 404",1,"img-fluid","rounded-circle"],[1,"col-lg-3","col-md-4","col-sm-6","pb-1"],[1,"product-item","bg-light","mb-4"],[1,"product-img","position-relative","overflow-hidden"],["src","assets/Logo_ASIA_DEPOT.png","alt","Logo productos ASIA DEPOT",1,"img-fluid","w-100"],[1,"product-action"],["class","btn btn-outline-dark btn-square",3,"click",4,"ngIf"],["class","btn btn-outline-dark btn-square","disabled","",4,"ngIf"],[1,"btn","btn-outline-dark","btn-square",3,"click"],[1,"fa","fa-heart"],["class","btn btn-outline-dark btn-square",3,"routerLink",4,"ngIf"],[1,"text-center","py-4"],[1,"text-decoration-none","text-truncate","productName",3,"routerLink"],[1,"d-flex","align-items-center","justify-content-center","mt-2"],[2,"margin-right","6px"],[1,"text-muted","ml-2"],[1,"container-btn"],["class","btn btn-primary",3,"routerLink",4,"ngIf"],["class","btn btn-danger","disabled","",4,"ngIf"],[1,"fa","fa-shopping-cart"],["disabled","",1,"btn","btn-outline-dark","btn-square"],[1,"btn","btn-outline-dark","btn-square",3,"routerLink"],[1,"fa","fa-search"],[1,"btn","btn-primary",3,"routerLink"],["disabled","",1,"btn","btn-danger"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"btn","page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"btn","page-link",3,"click"],[1,"btn","page-link",3,"click"]],template:function(e,r){1&e&&(t._UZ(0,"app-nav-bar"),t.TgZ(1,"div",0)(2,"h1",1),t._uU(3,"Cat\xe1logo de Productos ASIA DEPOT"),t.qZA(),t.TgZ(4,"div",2)(5,"ul",3)(6,"li",4)(7,"a",5),t.NdJ("click",function(){return r.getProducts()}),t._uU(8,"Todos"),t.qZA()(),t.YNc(9,T,3,1,"li",6),t.qZA()(),t.TgZ(10,"div",7)(11,"form",8),t._UZ(12,"input",9),t.TgZ(13,"button",10),t._uU(14,"Buscar"),t.qZA()()(),t.TgZ(15,"div",2),t.YNc(16,w,5,0,"div",11),t.YNc(17,M,26,13,"div",12),t.qZA(),t.TgZ(18,"div",13),t.YNc(19,E,11,5,"nav",14),t.qZA()(),t._UZ(20,"app-footer")),2&e&&(t.xp6(9),t.Q6J("ngForOf",r.category),t.xp6(7),t.Q6J("ngIf",r.msgError),t.xp6(1),t.Q6J("ngForOf",r.product),t.xp6(2),t.Q6J("ngIf",r.totalPages>1))},dependencies:[p.sg,p.O5,c._Y,c.JL,c.F,l.rH,v.w,b.c],styles:[".nav-item[_ngcontent-%COMP%]{cursor:pointer}.product-item[_ngcontent-%COMP%]{transition:.5s}.product-action[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center;transition:.5s}.product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{position:relative;margin:100px 3px 0;opacity:0}.product-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 30px #ddd}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]{background:rgba(255,255,255,.7)}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:first-child{opacity:1;margin-top:0;transition:.3s 0s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:nth-child(2){opacity:1;margin-top:0;transition:.3s .05s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:nth-child(3){opacity:1;margin-top:0;transition:.3s .1s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:nth-child(4){opacity:1;margin-top:0;transition:.3s .15s}.product-item[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.5s}.product-item[_ngcontent-%COMP%]:hover   .product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.2)}.productName[_ngcontent-%COMP%]{color:#000}.container-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{font-weight:700}.text-primary[_ngcontent-%COMP%]{color:#ffd333!important}"]}),o})();const I=function(o){return["/product/review",o]};let L=(()=>{class o{constructor(e,r,i,a,s){this.route=e,this.productService=r,this.authService=i,this.shoppingCartService=a,this.customAlertService=s,this.product={},this.increment=1}ngOnInit(){this.scrollToTop(),this.getParamsId()}getParamsId(){this.route.paramMap.subscribe(e=>{const r=e.get("id");r&&this.getProductId(r)})}getProductId(e){this.productService.getProductId(`${d.Q}/usuario/ver/producto/${e}`).subscribe(r=>{this.product=r.product})}onSubmit(e){try{if(!this.authService.isAuthenticated())return this.customAlertService.sweetAlertPersonalizada("error","Sin autenticaci\xf3n","Para agregar un producto al carrito primero debes de iniciar sesi\xf3n.");this.shoppingCartService.addProductCart(`${d.Q}/usuario/carrito/agregar`,{ID_Producto_FK:e,Cantidad_Producto:this.increment}).subscribe({next:i=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",i.msg)},error:i=>{this.customAlertService.sweetAlertPersonalizada("error","Error",i.error.error)}})}catch(r){console.log(r.error)}}decreaseQuantity(){this.increment>1&&this.increment--}increaseQuantity(){this.increment++}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.gz),t.Y36(m.M),t.Y36(g.e),t.Y36(_.F),t.Y36(h.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-detail"]],decls:57,vars:11,consts:[[1,"container-fluid","pb-5","mt-4"],[1,"row","px-xl-5"],[1,"col-lg-5"],["src","assets/Logo_ASIA_DEPOT.png","alt","Logo producto ASIA DEPOT",1,"w-100","h-100"],[1,"col-lg-7","h-auto"],[1,"h-100","bg-light","p-5"],[1,"text-center","mb-4"],[1,"mb-4"],[1,"font-weight-semi-bold","mb-2"],[1,"font-weight-semi-bold","mb-4"],[1,"d-flex","justify-content-center","mb-4","pt-2"],[1,"input-group","quantity","mr-3",2,"width","130px"],[1,"input-group-btn"],[1,"btn","btn-primary","btn-minus",3,"click"],[1,"fa","fa-minus"],["type","text",1,"form-control","border-2","text-center",3,"value"],[1,"btn","btn-primary","btn-plus",3,"click"],[1,"fa","fa-plus"],[1,"btn","btn-primary","px-4",2,"margin-left","20px",3,"click"],[1,"fa","fa-shopping-cart","mr-1"],[1,"d-flex","pt-2"],[1,"text-dark","mr-2"],[1,"d-inline-flex"],["href","https://www.facebook.com/asiadepot?mibextid=ZbWKwL","target","_blank",1,"text-dark","px-2"],[1,"fab","fa-facebook-f"],["href","https://instagram.com/asiadepot?igshid=MzRlODBiNWFlZA==","target","_blank",1,"text-dark","px-2"],[1,"fab","fa-instagram"],["href","https://wa.me/50246651581","target","_blank",1,"text-dark","px-2"],[1,"fab","fa-whatsapp"],[1,"col"],[1,"bg-light"],[1,"nav","nav-tabs","mb-2"],["data-toggle","tab",1,"nav-item","nav-link","text-dark","active"],["data-toggle","tab",1,"nav-item","nav-link","text-dark",3,"routerLink"],[1,"tab-content"],["id","tab-pane-1",1,"tab-pane","fade","show","active","p-5"],[1,"mb-3"]],template:function(e,r){1&e&&(t._UZ(0,"app-nav-bar"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div"),t._UZ(5,"img",3),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"h1",6),t._uU(9),t.qZA(),t.TgZ(10,"p",7),t._uU(11),t.qZA(),t.TgZ(12,"h3",8),t._uU(13),t.qZA(),t.TgZ(14,"p",7),t._uU(15),t.qZA(),t.TgZ(16,"h3",9),t._uU(17),t.qZA(),t.TgZ(18,"h3",9),t._uU(19),t.qZA(),t.TgZ(20,"div",10)(21,"div",11)(22,"div",12)(23,"button",13),t.NdJ("click",function(){return r.decreaseQuantity()}),t._UZ(24,"i",14),t.qZA()(),t._UZ(25,"input",15),t.TgZ(26,"div",12)(27,"button",16),t.NdJ("click",function(){return r.increaseQuantity()}),t._UZ(28,"i",17),t.qZA()()(),t.TgZ(29,"button",18),t.NdJ("click",function(){return r.onSubmit(r.product.id)}),t._UZ(30,"i",19),t._uU(31,"Agregar al carrito"),t.qZA()(),t.TgZ(32,"div",20)(33,"strong",21),t._uU(34,"S\xedguenos en:"),t.qZA(),t.TgZ(35,"div",22)(36,"a",23),t._UZ(37,"i",24),t.qZA(),t.TgZ(38,"a",25),t._UZ(39,"i",26),t.qZA(),t.TgZ(40,"a",27),t._UZ(41,"i",28),t.qZA()()()()()(),t.TgZ(42,"div",1)(43,"div",29)(44,"div",30)(45,"div",31)(46,"a",32),t._uU(47,"Description"),t.qZA(),t.TgZ(48,"a",33),t._uU(49,"Reviews (0)"),t.qZA()(),t.TgZ(50,"div",34)(51,"div",35)(52,"h4",36),t._uU(53,"Descripci\xf3n del producto"),t.qZA(),t.TgZ(54,"p"),t._uU(55),t.qZA()()()()()()(),t._UZ(56,"app-footer")),2&e&&(t.xp6(9),t.Oqu(r.product.Nombre_Producto),t.xp6(2),t.Oqu(r.product.Descripcion_Producto),t.xp6(2),t.Oqu(r.product.categoria.Nombre_Categoria),t.xp6(2),t.Oqu(r.product.categoria.Descripcion_Categoria),t.xp6(2),t.hij("Q.",r.product.Precio_Venta,""),t.xp6(2),t.hij("Disponibilidad: ",r.product.Cantidad_Stock,""),t.xp6(6),t.s9C("value",r.increment),t.xp6(23),t.Q6J("routerLink",t.VKq(9,I,r.product.id)),t.xp6(7),t.Oqu(r.product.Descripcion_Producto))},dependencies:[l.rH,v.w,b.c],styles:[".product-item[_ngcontent-%COMP%]{transition:.5s}.product-action[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center;transition:.5s}.product-action[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]{position:relative;margin:100px 3px 0;opacity:0}.product-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 30px #ddd}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]{background:rgba(255,255,255,.7)}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]:first-child{opacity:1;margin-top:0;transition:.3s 0s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]:nth-child(2){opacity:1;margin-top:0;transition:.3s .05s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]:nth-child(3){opacity:1;margin-top:0;transition:.3s .1s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]:nth-child(4){opacity:1;margin-top:0;transition:.3s .15s}.product-item[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.5s}.product-item[_ngcontent-%COMP%]:hover   .product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.2)}"]}),o})();var C=u(529);let N=(()=>{class o{constructor(e,r){this.http=e,this.authService=r}addReview(e,r){const i=this.authService.getCookieAuth(),a=new C.WM({Authorization:`Bearer ${i}`});return this.http.post(e,r,{headers:a})}getReviews(e,r){return this.http.get(e=`${e}/${r}`)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(C.eN),t.LFG(g.e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Q(o,n){if(1&o&&(t.TgZ(0,"div",55),t._UZ(1,"img",56),t.TgZ(2,"div",57)(3,"h6"),t._uU(4),t.TgZ(5,"small"),t._uU(6," - "),t.TgZ(7,"i"),t._uU(8),t.qZA()()(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA()()()),2&o){const e=n.$implicit;t.xp6(4),t.Oqu(e.cliente.Nombre_Cliente),t.xp6(4),t.Oqu(e.createdAt),t.xp6(2),t.hij(" Puntuaci\xf3n: ",e.Puntuacion_Producto,""),t.xp6(2),t.hij(" ",e.Comentario_Producto," ")}}function J(o,n){1&o&&(t.TgZ(0,"div",58),t._uU(1," El comentario no es v\xe1lido, no use car\xe1cteres especiales. "),t.qZA())}function R(o,n){1&o&&(t.TgZ(0,"div",58),t._uU(1," El comentario es demasiado corto (m\xednimo 10 car\xe1cteres). "),t.qZA())}function D(o,n){1&o&&(t.TgZ(0,"div",58),t._uU(1," El comentario es demasiado largo (m\xe1ximo 200 car\xe1cteres). "),t.qZA())}const Y=function(o){return["/product/detail",o]},z=[{path:"",redirectTo:"products",pathMatch:"full"},{path:"products",component:A},{path:"products/category/:id",component:A},{path:"product/detail/:id",component:L},{path:"product/review/:id",component:(()=>{class o{constructor(e,r,i,a,s,P){this.route=e,this.productService=r,this.authService=i,this.shoppingCartService=a,this.reviewsService=s,this.customAlertService=P,this.product={},this.productReviews=[],this.increment=1,this.validateForm()}ngOnInit(){this.getParamsId()}getParamsId(){this.route.paramMap.subscribe(e=>{const r=e.get("id");r&&(this.getProductId(r),this.getReviews(r))})}getProductId(e){this.productService.getProductId(`${d.Q}/usuario/ver/producto/${e}`).subscribe(r=>{this.product=r.product})}onSubmit(e){try{if(!this.authService.isAuthenticated())return this.customAlertService.sweetAlertPersonalizada("error","Sin autenticaci\xf3n","Para agregar un producto al carrito primero debes de iniciar sesi\xf3n.");this.shoppingCartService.addProductCart(`${d.Q}/usuario/carrito/agregar`,{ID_Producto_FK:e,Cantidad_Producto:this.increment}).subscribe({next:i=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",i.msg)},error:i=>{this.customAlertService.sweetAlertPersonalizada("error","Error",i.error.error)}})}catch(r){console.log(r.error)}}validateForm(){this.registerForm=new c.cw({puntuacion:new c.NI("",[c.kI.pattern("^[0-5]")]),comentario:new c.NI("",[c.kI.pattern(/^[^[\]<>(){}_=\\|';]+$/),c.kI.minLength(10),c.kI.maxLength(200)])})}addProductReview(e){if(this.registerForm.valid){const r={Comentario_Producto:this.registerForm.get("comentario")?.value,Puntuacion_Producto:this.registerForm.get("puntuacion")?.value,ID_Producto_FK:e};this.reviewsService.addReview(`${d.Q}/usuario/nueva/valoracion/producto`,r).subscribe({next:i=>{this.registerForm.reset(),this.customAlertService.sweetAlertPersonalizada("success","Exitoso",i.msg),this.getReviews(e)},error:i=>{this.customAlertService.sweetAlertPersonalizada("error","Error",i.error.error)}})}else this.customAlertService.sweetAlertPersonalizada("error","Error","Por favor, verifica los campos del formulario.")}getReviews(e){try{this.reviewsService.getReviews(`${d.Q}/usuario/ver/todas/valoraciones/producto`,e).subscribe({next:r=>{this.productReviews=r.productReviews,this.productReviews.forEach(i=>{if(i.createdAt){const P=i.createdAt.split("T")[0];i.createdAt=P}})},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Error",r.error.error)}})}catch(r){console.log(r.error)}}decreaseQuantity(){this.increment>1&&this.increment--}increaseQuantity(){this.increment++}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.gz),t.Y36(m.M),t.Y36(g.e),t.Y36(_.F),t.Y36(N),t.Y36(h.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-product-reviews"]],decls:88,vars:14,consts:[[1,"container-fluid","pb-5","mt-4"],[1,"row","px-xl-5"],[1,"col-lg-5"],["src","assets/Logo_ASIA_DEPOT.png","alt","Logo producto ASIA DEPOT",1,"w-100","h-100"],[1,"col-lg-7","h-auto"],[1,"h-100","bg-light","p-5"],[1,"text-center","mb-4"],[1,"mb-4"],[1,"font-weight-semi-bold","mb-2"],[1,"font-weight-semi-bold","mb-4"],[1,"d-flex","justify-content-center","mb-4","pt-2"],[1,"input-group","quantity","mr-3",2,"width","130px"],[1,"input-group-btn"],[1,"btn","btn-primary","btn-minus",3,"click"],[1,"fa","fa-minus"],["type","text",1,"form-control","border-2","text-center",3,"value"],[1,"btn","btn-primary","btn-plus",3,"click"],[1,"fa","fa-plus"],[1,"btn","btn-primary","px-4",2,"margin-left","20px",3,"click"],[1,"fa","fa-shopping-cart","mr-1"],[1,"d-flex","pt-2"],[1,"text-dark","mr-2"],[1,"d-inline-flex"],["href","https://www.facebook.com/asiadepot?mibextid=ZbWKwL","target","_blank",1,"text-dark","px-2"],[1,"fab","fa-facebook-f"],["href","https://instagram.com/asiadepot?igshid=MzRlODBiNWFlZA==","target","_blank",1,"text-dark","px-2"],[1,"fab","fa-instagram"],["href","https://wa.me/50246651581","target","_blank",1,"text-dark","px-2"],[1,"fab","fa-whatsapp"],[1,"col"],[1,"bg-light"],[1,"nav","nav-tabs","mb-2"],["data-toggle","tab",1,"nav-item","nav-link","text-dark",3,"routerLink"],["data-toggle","tab",1,"nav-item","nav-link","text-dark","active"],[1,"tab-content"],["id","tab-pane-3",1,"tab-pane","fade","show","active"],[1,"row","p-4"],[1,"col-md-6"],["class","media mb-4",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],[1,"d-flex","my-3"],[1,"form-floating","mb-3"],["aria-label","Default select example","formControlName","puntuacion",1,"form-select"],["selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["for","register"],["id","floatingTextarea2","minlength","10","maxlength","201","formControlName","comentario","placeholder","Ingresa tu direcci\xf3n general",1,"form-control",2,"max-height","100px","height","100px","max-width","500px"],["for","registerAddress"],["class","text-danger",4,"ngIf"],[1,"form-group","mb-0"],["type","submit","value","Leave Your Review",1,"btn","btn-primary","px-3"],[1,"media","mb-4"],["src","assets/Logo_ASIA_DEPOT.png","alt","Image",1,"img-fluid","mr-3","mt-1",2,"width","45px"],[1,"media-body"],[1,"text-danger"]],template:function(e,r){if(1&e&&(t._UZ(0,"app-nav-bar"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div"),t._UZ(5,"img",3),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"h1",6),t._uU(9),t.qZA(),t.TgZ(10,"p",7),t._uU(11),t.qZA(),t.TgZ(12,"h3",8),t._uU(13,"s"),t.qZA(),t.TgZ(14,"p",7),t._uU(15,"ss"),t.qZA(),t.TgZ(16,"h3",9),t._uU(17),t.qZA(),t.TgZ(18,"h3",9),t._uU(19),t.qZA(),t.TgZ(20,"div",10)(21,"div",11)(22,"div",12)(23,"button",13),t.NdJ("click",function(){return r.decreaseQuantity()}),t._UZ(24,"i",14),t.qZA()(),t._UZ(25,"input",15),t.TgZ(26,"div",12)(27,"button",16),t.NdJ("click",function(){return r.increaseQuantity()}),t._UZ(28,"i",17),t.qZA()()(),t.TgZ(29,"button",18),t.NdJ("click",function(){return r.onSubmit(r.product.id)}),t._UZ(30,"i",19),t._uU(31,"Agregar al carrito"),t.qZA()(),t.TgZ(32,"div",20)(33,"strong",21),t._uU(34,"S\xedguenos en:"),t.qZA(),t.TgZ(35,"div",22)(36,"a",23),t._UZ(37,"i",24),t.qZA(),t.TgZ(38,"a",25),t._UZ(39,"i",26),t.qZA(),t.TgZ(40,"a",27),t._UZ(41,"i",28),t.qZA()()()()()(),t.TgZ(42,"div",1)(43,"div",29)(44,"div",30)(45,"div",31)(46,"a",32),t._uU(47,"Description"),t.qZA(),t.TgZ(48,"a",33),t._uU(49,"Reviews (0)"),t.qZA()(),t.TgZ(50,"div",34)(51,"div",35)(52,"div",36)(53,"div",37)(54,"h4",7),t._uU(55),t.qZA(),t.YNc(56,Q,13,4,"div",38),t.qZA(),t.TgZ(57,"div",37)(58,"h4",7),t._uU(59,"Deja tu rese\xf1a"),t.qZA(),t.TgZ(60,"form",39),t.NdJ("ngSubmit",function(){return r.addProductReview(r.product.id)}),t.TgZ(61,"div",40)(62,"div",41)(63,"select",42)(64,"option",43),t._uU(65,"Selecciona una puntuaci\xf3n"),t.qZA(),t.TgZ(66,"option",44),t._uU(67,"1 estrella"),t.qZA(),t.TgZ(68,"option",45),t._uU(69,"2 estrellas"),t.qZA(),t.TgZ(70,"option",46),t._uU(71,"3 estrellas"),t.qZA(),t.TgZ(72,"option",47),t._uU(73,"4 estrellas"),t.qZA(),t.TgZ(74,"option",48),t._uU(75,"5 estrellas"),t.qZA()(),t.TgZ(76,"label",49),t._uU(77,"Puntuaci\xf3n de producto"),t.qZA()()(),t.TgZ(78,"div",41),t._UZ(79,"textarea",50),t.TgZ(80,"label",51),t._uU(81,"Comentario"),t.qZA(),t.YNc(82,J,2,0,"div",52),t.YNc(83,R,2,0,"div",52),t.YNc(84,D,2,0,"div",52),t.qZA(),t.TgZ(85,"div",53),t._UZ(86,"input",54),t.qZA()()()()()()()()()(),t._UZ(87,"app-footer")),2&e){let i,a,s;t.xp6(9),t.Oqu(r.product.Nombre_Producto),t.xp6(2),t.Oqu(r.product.Descripcion_Producto),t.xp6(6),t.hij("Q.",r.product.Precio_Venta,""),t.xp6(2),t.hij("Disponibilidad: ",r.product.Cantidad_Stock,""),t.xp6(6),t.s9C("value",r.increment),t.xp6(21),t.Q6J("routerLink",t.VKq(12,Y,r.product.id)),t.xp6(9),t.hij('Rese\xf1as de "',r.product.Nombre_Producto,'"'),t.xp6(1),t.Q6J("ngForOf",r.productReviews),t.xp6(4),t.Q6J("formGroup",r.registerForm),t.xp6(22),t.Q6J("ngIf",(null==(i=r.registerForm.get("comentario"))?null:i.hasError("pattern"))&&(null==(i=r.registerForm.get("comentario"))?null:i.touched)),t.xp6(1),t.Q6J("ngIf",(null==(a=r.registerForm.get("comentario"))?null:a.hasError("minlength"))&&(null==(a=r.registerForm.get("comentario"))?null:a.touched)),t.xp6(1),t.Q6J("ngIf",(null==(s=r.registerForm.get("comentario"))?null:s.hasError("maxlength"))&&(null==(s=r.registerForm.get("comentario"))?null:s.touched))}},dependencies:[p.sg,p.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.wO,c.nD,c.sg,c.u,l.rH,v.w,b.c]}),o})()}];let $=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(z),l.Bz]}),o})();var j=u(335);let K=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.ez,c.UX,c.u5,$,j.d]}),o})()}}]);