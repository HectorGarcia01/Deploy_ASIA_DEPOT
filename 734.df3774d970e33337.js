"use strict";(self.webpackChunkFrontend_ASIA_DEPOT=self.webpackChunkFrontend_ASIA_DEPOT||[]).push([[734],{8734:(qe,O,p)=>{p.r(O),p.d(O,{UserProfileModule:()=>Se});var u=p(6895),a=p(433),g=p(5808),l=p(1548),e=p(8256),A=p(9616),S=p(6785),y=p(69),w=p(870),_=p(6428),h=p(2150),f=p(3310);function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"a",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.unsubscriptionNewsletter())}),e._uU(2,"Anular Suscripci\xf3n del Newsletter"),e.qZA()()}}function M(n,r){1&n&&(e.TgZ(0,"div",11)(1,"a",33),e._UZ(2,"span",34),e._uU(3," Cargando... "),e.qZA()())}let I=(()=>{class n{constructor(t,o,i,s,c){this.authService=t,this.userService=o,this.sharedService=i,this.newsletterService=s,this.customAlertService=c,this.customer={},this.image="assets/transparent.png",this.loading=!1}ngOnInit(){this.scrollToTop(),this.viewProfile(),this.getProfilePicture()}viewProfile(){try{this.userService.getCustomerProfile(`${l.Q}/usuario/ver/perfil`).subscribe({next:t=>{this.customer=t.customer},error:t=>{this.customAlertService.sweetAlertPersonalizada("error","Error",t.error.error)}})}catch(t){console.log(t.error)}}getProfilePicture(){try{this.authService.isAuthenticated()?this.userService.getProfilePhoto(`${l.Q}/usuario/ver/avatar`).subscribe({next:t=>{this.image=URL.createObjectURL(t)},error:t=>{this.image="assets/perfil_picture.png"}}):this.image="assets/perfil_picture.png"}catch(t){console.log(t.error)}}deleteProfilePicture(){try{this.userService.deleteProfilePhoto(`${l.Q}/usuario/eliminar/avatar`).subscribe({next:t=>{this.image="assets/perfil_picture.png",this.customAlertService.sweetAlertPersonalizada("success","Exitoso",t.msg),this.sharedService.profileImageUpdated.emit("assets/perfil_picture.png")},error:t=>{this.customAlertService.sweetAlertPersonalizada("error","Error",t.error.error)}})}catch(t){console.log(t.error)}}unsubscriptionNewsletter(){try{this.loading=!0,this.newsletterService.unsubscriptionNewsletter(`${l.Q}/usuario/anular/suscripcion/newsletter`).subscribe({next:t=>{this.loading=!1,this.customAlertService.sweetAlertPersonalizada("success","Exitoso",t.msg)},error:t=>{this.customAlertService.sweetAlertPersonalizada("error","Error",t.error.error)}})}catch(t){console.log(t.error)}}logout(){try{this.authService.logout().subscribe({next:t=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",t.msg),this.authService.deleteCookie()},error:t=>{this.customAlertService.sweetAlertPersonalizada("error","Error",t.error.error)}})}catch(t){console.log(t.error)}}logoutAll(){try{this.authService.logoutAll().subscribe({next:t=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",t.msg),this.authService.deleteCookie()},error:t=>{this.customAlertService.sweetAlertPersonalizada("error","Error",t.error.error)}})}catch(t){console.log(t.error)}}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.e),e.Y36(S.v),e.Y36(y.F),e.Y36(w.B),e.Y36(_.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile"]],decls:90,vars:16,consts:[[1,"container","mt-3"],[1,"row","d-flex","justify-content-center"],[1,"col-md-9","bg-light","shadow-lg","rounded-5","mb-3"],[1,"d-flex","flex-column","flex-md-row","align-items-center","justify-content-center"],[1,"col-md-4"],["width","70%","alt","Foto-Perfil",1,"img-fluid","rounded-circle",3,"src"],[1,"col-md-6"],[1,"col-md-9","mb-5"],[1,"d-flex","flex-column","flex-md-row","align-items-center","justify-content-between"],[1,"col-md-6","bg-light","shadow-lg","rounded-5","p-5","mb-5","container-info"],[1,"mb-4"],[1,"mb-3"],["for","nombre"],["id","nombre"],["for","apellido"],["id","apellido"],["for","correo"],["id","correo"],["for","telefono"],["id","telefono"],["for","nit"],["id","nit"],["for","departamento"],["id","departamento"],["for","municipio"],["id","municipio"],["for","direccion_general"],["id","direccion_general"],[1,"col-md-5","bg-light","shadow-lg","rounded-5","p-5"],[1,"d-flex","flex-column","btnAction"],[1,"btn","btn-primary","btn-block",3,"routerLink"],[1,"btn","btn-danger","btn-block",3,"click"],["class","mb-3",4,"ngIf"],["type","button","disabled","",1,"btn","btn-danger","btn-block"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&(e._UZ(0,"app-nav-bar"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"img",5),e.qZA(),e.TgZ(7,"div",6)(8,"h1"),e._uU(9),e.qZA(),e.TgZ(10,"h1"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"h3",10),e._uU(16,"Informaci\xf3n personal"),e.qZA(),e.TgZ(17,"div",11)(18,"label",12)(19,"strong"),e._uU(20,"Nombre"),e.qZA()(),e.TgZ(21,"p",13),e._uU(22),e.qZA()(),e.TgZ(23,"div",11)(24,"label",14)(25,"strong"),e._uU(26,"Apellido"),e.qZA()(),e.TgZ(27,"p",15),e._uU(28),e.qZA()(),e.TgZ(29,"div",11)(30,"label",16)(31,"strong"),e._uU(32,"Correo"),e.qZA()(),e.TgZ(33,"p",17),e._uU(34),e.qZA()(),e.TgZ(35,"div",11)(36,"label",18)(37,"strong"),e._uU(38,"Tel\xe9fono"),e.qZA()(),e.TgZ(39,"p",19),e._uU(40),e.qZA()(),e.TgZ(41,"div",11)(42,"label",20)(43,"strong"),e._uU(44,"NIT"),e.qZA()(),e.TgZ(45,"p",21),e._uU(46),e.qZA()(),e.TgZ(47,"div",11)(48,"label",22)(49,"strong"),e._uU(50,"Departamento"),e.qZA()(),e.TgZ(51,"p",23),e._uU(52),e.qZA()(),e.TgZ(53,"div",11)(54,"label",24)(55,"strong"),e._uU(56,"Municipio"),e.qZA()(),e.TgZ(57,"p",25),e._uU(58),e.qZA()(),e.TgZ(59,"div",11)(60,"label",26)(61,"strong"),e._uU(62,"Direcci\xf3n general"),e.qZA()(),e.TgZ(63,"p",27),e._uU(64),e.qZA()()(),e.TgZ(65,"div",28)(66,"h3",10),e._uU(67,"Acciones"),e.qZA(),e.TgZ(68,"div",29)(69,"div",11)(70,"a",30),e._uU(71,"Actualizar Datos"),e.qZA()(),e.TgZ(72,"div",11)(73,"a",30),e._uU(74,"Productos Favoritos"),e.qZA()(),e.TgZ(75,"div",11)(76,"a",30),e._uU(77,"Historial de Compras"),e.qZA()(),e.TgZ(78,"div",11)(79,"a",31),e.NdJ("click",function(){return o.deleteProfilePicture()}),e._uU(80,"Borrar Foto de Perfil"),e.qZA()(),e.YNc(81,F,3,0,"div",32),e.YNc(82,M,4,0,"div",32),e.TgZ(83,"div",11)(84,"a",31),e.NdJ("click",function(){return o.logout()}),e._uU(85,"Cerrar Sesi\xf3n"),e.qZA()(),e.TgZ(86,"div",11)(87,"a",31),e.NdJ("click",function(){return o.logoutAll()}),e._uU(88,"Cerrar Todas las Sesiones"),e.qZA()()()()()()()(),e._UZ(89,"app-footer")),2&t&&(e.xp6(6),e.s9C("src",o.image,e.LSH),e.xp6(3),e.Oqu(o.customer.Nombre_Cliente),e.xp6(2),e.Oqu(o.customer.Apellido_Cliente),e.xp6(11),e.Oqu(o.customer.Nombre_Cliente),e.xp6(6),e.Oqu(o.customer.Apellido_Cliente),e.xp6(6),e.Oqu(o.customer.Correo_Cliente),e.xp6(6),e.Oqu(o.customer.Telefono_Cliente),e.xp6(6),e.Oqu(o.customer.NIT_Cliente),e.xp6(6),e.Oqu(null==o.customer.municipio||null==o.customer.municipio.departamento?null:o.customer.municipio.departamento.Nombre_Departamento),e.xp6(6),e.Oqu(null==o.customer.municipio?null:o.customer.municipio.Nombre_Municipio),e.xp6(6),e.Oqu(o.customer.Direccion_General),e.xp6(6),e.Q6J("routerLink","/profile/update"),e.xp6(3),e.Q6J("routerLink","/profile/favorite/products"),e.xp6(3),e.Q6J("routerLink","/profile/shopping/history"),e.xp6(5),e.Q6J("ngIf",!1===o.loading),e.xp6(1),e.Q6J("ngIf",!0===o.loading))},dependencies:[u.O5,g.rH,h.w,f.c],styles:[".btnAction[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{max-width:300px;width:100%}"]}),n})();function N(n,r){if(1&n&&(e.TgZ(0,"button",38),e._uU(1,"Subir Foto"),e.qZA()),2&n){const t=e.oxw();e.Q6J("disabled",t.uploading)}}function E(n,r){1&n&&(e.TgZ(0,"button",39),e._UZ(1,"span",40),e._uU(2," Cargando... "),e.qZA())}function k(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," El nombre es demasiado corto (m\xednimo 3 car\xe1cteres). "),e.qZA())}function D(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," El nombre es demasiado largo (m\xe1ximo 30 car\xe1cteres). "),e.qZA())}function J(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," El nombre no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function Q(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," El apellido es demasiado corto (m\xednimo 3 car\xe1cteres). "),e.qZA())}function Y(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," El apellido es demasiado largo (m\xe1ximo 30 car\xe1cteres). "),e.qZA())}function H(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," El apellido no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function j(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," El tel\xe9fono no es v\xe1lido, debe de poseer 8 d\xedgitos. "),e.qZA())}function z(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," El NIT no es v\xe1lido. "),e.qZA())}function L(n,r){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.Nombre_Departamento," ")}}function $(n,r){if(1&n&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.Nombre_Municipio)}}function K(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," La direcci\xf3n no es v\xe1lida, no use car\xe1cteres especiales. "),e.qZA())}function G(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," La direcci\xf3n es demasiado corta (m\xednimo 10 car\xe1cteres). "),e.qZA())}function R(n,r){1&n&&(e.TgZ(0,"div",41),e._uU(1," La direcci\xf3n es demasiado larga (m\xe1ximo 100 car\xe1cteres). "),e.qZA())}let B=(()=>{class n{constructor(t,o,i,s,c){this.fb=t,this.authService=o,this.userService=i,this.customAlertService=s,this.router=c,this.customer={},this.departments=[],this.selectedDepartmentId=null,this.selectedMunicipalityId=null,this.municipalities=[],this.image="assets/transparent.png",this.uploading=!1,this.previewImage=null,this.loading=!1,this.validateForm()}ngOnInit(){this.scrollToTop(),this.viewProfile(),this.getProfilePicture(),this.getAddresses()}viewProfile(){try{this.userService.getCustomerProfile(`${l.Q}/usuario/ver/perfil`).subscribe({next:t=>{this.customer=t.customer},error:t=>{console.log(t.error)}})}catch(t){console.log(t.error)}}getProfilePicture(){try{this.authService.isAuthenticated()?this.userService.getProfilePhoto(`${l.Q}/usuario/ver/avatar`).subscribe({next:t=>{this.image=URL.createObjectURL(t)},error:t=>{this.image="assets/perfil_picture.png"}}):this.image="assets/perfil_picture.png"}catch(t){console.log(t.error)}}getAddresses(){this.userService.getAddress(`${l.Q}/usuario/ver/direcciones`).subscribe(t=>{this.departments=t.address})}onDepartmentSelected(t){const o=t.target.value;if(null!==o){this.selectedDepartmentId=Number(o);const i=this.departments.find(s=>s.id===this.selectedDepartmentId);this.municipalities=i?i.municipios:[]}else this.municipalities=[];this.updateForm.get("municipio")?.setValue(null)}validateForm(){this.updateForm=new a.cw({nombre:new a.NI("",[a.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),a.kI.minLength(3),a.kI.maxLength(30)]),apellido:new a.NI("",[a.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),a.kI.minLength(3),a.kI.maxLength(30)]),telefono:new a.NI("",[a.kI.pattern(/^[345][0-9]{7}$/)]),nit:new a.NI("",[a.kI.pattern("^[0-9]+$")]),direccion:new a.NI("",[a.kI.pattern(/^[^[\]<>(){}_=\\|';]+$/),a.kI.minLength(10),a.kI.maxLength(100)]),departamento:new a.NI(null,[a.kI.pattern("^[0-9]+$")]),municipio:new a.NI(null,[a.kI.pattern("^[0-9]+$")])})}getUserData(){const t={Nombre_Cliente:this.updateForm.get("nombre")?.value,Apellido_Cliente:this.updateForm.get("apellido")?.value,Telefono_Cliente:this.updateForm.get("telefono")?.value,NIT_Cliente:this.updateForm.get("nit")?.value,Direccion_General:this.updateForm.get("direccion")?.value,ID_Departamento_FK:this.updateForm.get("departamento")?.value,ID_Municipio_FK:this.updateForm.get("municipio")?.value};for(const o in t)t.hasOwnProperty(o)&&(null==t[o]||""===t[o])&&delete t[o];return 0===Object.keys(t).length?null:t}onSubmit(){try{if(this.updateForm.valid){const t=this.getUserData();if(t?.ID_Departamento_FK&&!t?.ID_Municipio_FK)return this.customAlertService.sweetAlertPersonalizada("error","Datos incompletos","Debes escoger un municipio.");if(!t)return this.customAlertService.sweetAlertPersonalizada("success","Sin cambios","No has realizado ning\xfan cambio."),this.router.navigate(["/profile"]);this.userService.updateCustomer(`${l.Q}/usuario/actualizar/perfil`,t).subscribe({next:o=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",o.msg),this.updateForm.reset(),this.router.navigate(["/profile"])},error:o=>{this.customAlertService.sweetAlertPersonalizada("error","Error",o.error.error)}})}else this.customAlertService.sweetAlertPersonalizada("error","Error","Por favor, verifica los campos del formulario.")}catch(t){console.log(t.error)}}onUploadAvatar(){try{this.selectedFile?(this.uploading=!0,this.loading=!0,this.userService.uploadProfilePhoto(`${l.Q}/usuario/subir/avatar`,this.selectedFile).subscribe({next:t=>{this.uploading=!1,this.loading=!1,this.customAlertService.sweetAlertPersonalizada("success","Exitoso",t.msg),this.router.navigate(["/profile"])},error:t=>{this.uploading=!1,this.customAlertService.sweetAlertPersonalizada("error","Error",t.error.error)}})):this.customAlertService.sweetAlertPersonalizada("error","Im\xe1gen no seleccionada","Por favor selecciona una im\xe1gen.")}catch(t){console.log(t.error)}}onFileSelected(t){const o=t.target;if(o.files&&o.files.length>0){const i=o.files[0],s=i.name.split(".").pop()?.toLowerCase();if(s)if(["jpg","jpeg","png"].includes(s)){this.selectedFile=i;const d=new FileReader;d.onload=m=>{this.previewImage=m.target?.result},d.readAsDataURL(i)}else this.customAlertService.sweetAlertPersonalizada("error","Archivo no v\xe1lido","Selecciona un archivo con una extensi\xf3n v\xe1lida (.jpg, .jpeg o .png).");else this.customAlertService.sweetAlertPersonalizada("error","Archivo no v\xe1lido","No se pudo determinar la extensi\xf3n del archivo.")}}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(A.e),e.Y36(S.v),e.Y36(_.y),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-profile"]],decls:71,vars:24,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-12","mb-5"],[1,"d-flex","flex-column","flex-md-row","align-items-center","justify-content-center"],[1,"col-md-4","bg-light","shadow-lg","rounded-5","p-5","mb-5",2,"margin-right","20px"],[1,"d-flex","justify-content-center"],["alt","Foto de Perfil",1,"img-fluid","rounded-circle",2,"max-width","250px","max-height","250px",3,"src"],[3,"ngSubmit"],[1,"mt-3"],[1,"form-group"],["id","formFile","type","file","accept",".png, .jpg, .jpeg","name","avatar","required","",1,"mt-3","form-control",3,"change"],[1,"row","mb-4"],[1,"col-md-12","d-flex","justify-content-center","mt-4"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary","disabled","",4,"ngIf"],[1,"col-md-5","bg-light","shadow-lg","rounded-5","p-5","mb-5"],[1,"text-center","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","formControlName","nombre","placeholder","Ingresa tu nombre",1,"form-control"],["for","registerName"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Ingresa tu apellido",1,"form-control"],["for","registerUsername"],["type","text","formControlName","telefono","placeholder","Ingresa tu n\xfamero de tel\xe9fono",1,"form-control"],["for","registerTel"],["type","number","formControlName","nit","placeholder","Ingresa tu NIT",1,"form-control"],["for","registerNIT"],["aria-label","Default select example","formControlName","departamento",1,"form-select",3,"change"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","registerDepartamento"],["aria-label","Default select example","formControlName","municipio",1,"form-select"],["for","registerMunicipio"],["id","floatingTextarea2","minlength","10","maxlength","101","formControlName","direccion","placeholder","Ingresa tu direcci\xf3n general",1,"form-control",2,"max-height","100px"],["for","registerAddress"],[1,"col-md-12","d-flex","justify-content-center","mt-3"],["type","submit",1,"btn","btn-primary","btn-block","w-75"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"text-danger"],[3,"value"]],template:function(t,o){if(1&t&&(e._UZ(0,"app-nav-bar"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),e._UZ(7,"img",6),e.qZA(),e.TgZ(8,"form",7),e.NdJ("ngSubmit",function(){return o.onUploadAvatar()}),e.TgZ(9,"div",8)(10,"div",9)(11,"input",10),e.NdJ("change",function(s){return o.onFileSelected(s)}),e.qZA()(),e.TgZ(12,"div",11)(13,"div",12),e.YNc(14,N,2,1,"button",13),e.YNc(15,E,3,0,"button",14),e.qZA()()()()(),e.TgZ(16,"div",15)(17,"div",16)(18,"h2"),e._uU(19,"Actualizar datos personales"),e.qZA()(),e.TgZ(20,"form",17),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(21,"div",18),e._UZ(22,"input",19),e.TgZ(23,"label",20),e._uU(24),e.qZA(),e.YNc(25,k,2,0,"div",21),e.YNc(26,D,2,0,"div",21),e.YNc(27,J,2,0,"div",21),e.qZA(),e.TgZ(28,"div",18),e._UZ(29,"input",22),e.TgZ(30,"label",23),e._uU(31),e.qZA(),e.YNc(32,Q,2,0,"div",21),e.YNc(33,Y,2,0,"div",21),e.YNc(34,H,2,0,"div",21),e.qZA(),e.TgZ(35,"div",18),e._UZ(36,"input",24),e.TgZ(37,"label",25),e._uU(38),e.qZA(),e.YNc(39,j,2,0,"div",21),e.qZA(),e.TgZ(40,"div",18),e._UZ(41,"input",26),e.TgZ(42,"label",27),e._uU(43),e.qZA(),e.YNc(44,z,2,0,"div",21),e.qZA(),e.TgZ(45,"div",18)(46,"select",28),e.NdJ("change",function(s){return o.onDepartmentSelected(s)}),e.TgZ(47,"option",29),e._uU(48,"Selecciona un departamento"),e.qZA(),e.YNc(49,L,2,2,"option",30),e.qZA(),e.TgZ(50,"label",31),e._uU(51),e.qZA()(),e.TgZ(52,"div",18)(53,"select",32)(54,"option",29),e._uU(55,"Selecciona un municipio"),e.qZA(),e.YNc(56,$,2,2,"option",30),e.qZA(),e.TgZ(57,"label",33),e._uU(58),e.qZA()(),e.TgZ(59,"div",18),e._UZ(60,"textarea",34),e.TgZ(61,"label",35),e._uU(62),e.qZA(),e.YNc(63,K,2,0,"div",21),e.YNc(64,G,2,0,"div",21),e.YNc(65,R,2,0,"div",21),e.qZA(),e.TgZ(66,"div",11)(67,"div",36)(68,"button",37),e._uU(69,"Actualizar datos"),e.qZA()()()()()()()()(),e._UZ(70,"app-footer")),2&t){let i,s,c,d,m,b,v,P,Z,C,T;e.xp6(7),e.s9C("src",o.previewImage||o.image,e.LSH),e.xp6(7),e.Q6J("ngIf",!1===o.loading),e.xp6(1),e.Q6J("ngIf",!0===o.loading),e.xp6(5),e.Q6J("formGroup",o.updateForm),e.xp6(4),e.Oqu(o.customer.Nombre_Cliente||"Nombre"),e.xp6(1),e.Q6J("ngIf",(null==(i=o.updateForm.get("nombre"))?null:i.hasError("minlength"))&&(null==(i=o.updateForm.get("nombre"))?null:i.touched)),e.xp6(1),e.Q6J("ngIf",(null==(s=o.updateForm.get("nombre"))?null:s.hasError("maxlength"))&&(null==(s=o.updateForm.get("nombre"))?null:s.touched)),e.xp6(1),e.Q6J("ngIf",(null==(c=o.updateForm.get("nombre"))?null:c.hasError("pattern"))&&(null==(c=o.updateForm.get("nombre"))?null:c.touched)),e.xp6(4),e.Oqu(o.customer.Apellido_Cliente||"Apellido"),e.xp6(1),e.Q6J("ngIf",(null==(d=o.updateForm.get("apellido"))?null:d.hasError("minlength"))&&(null==(d=o.updateForm.get("apellido"))?null:d.touched)),e.xp6(1),e.Q6J("ngIf",(null==(m=o.updateForm.get("apellido"))?null:m.hasError("maxlength"))&&(null==(m=o.updateForm.get("apellido"))?null:m.touched)),e.xp6(1),e.Q6J("ngIf",(null==(b=o.updateForm.get("apellido"))?null:b.hasError("pattern"))&&(null==(b=o.updateForm.get("apellido"))?null:b.touched)),e.xp6(4),e.Oqu(o.customer.Telefono_Cliente||"Tel\xe9fono"),e.xp6(1),e.Q6J("ngIf",(null==(v=o.updateForm.get("telefono"))?null:v.hasError("pattern"))&&(null==(v=o.updateForm.get("telefono"))?null:v.touched)),e.xp6(4),e.Oqu(o.customer.NIT_Cliente||"NIT"),e.xp6(1),e.Q6J("ngIf",(null==(P=o.updateForm.get("nit"))?null:P.hasError("pattern"))&&(null==(P=o.updateForm.get("nit"))?null:P.touched)),e.xp6(5),e.Q6J("ngForOf",o.departments),e.xp6(2),e.Oqu((null==o.customer.municipio||null==o.customer.municipio.departamento?null:o.customer.municipio.departamento.Nombre_Departamento)||"Departamento"),e.xp6(5),e.Q6J("ngForOf",o.municipalities),e.xp6(2),e.Oqu((null==o.customer.municipio?null:o.customer.municipio.Nombre_Municipio)||"Municipio"),e.xp6(4),e.Oqu(o.customer.Direccion_General||"Direcci\xf3n general"),e.xp6(1),e.Q6J("ngIf",(null==(Z=o.updateForm.get("direccion"))?null:Z.hasError("pattern"))&&(null==(Z=o.updateForm.get("direccion"))?null:Z.touched)),e.xp6(1),e.Q6J("ngIf",(null==(C=o.updateForm.get("direccion"))?null:C.hasError("minlength"))&&(null==(C=o.updateForm.get("direccion"))?null:C.touched)),e.xp6(1),e.Q6J("ngIf",(null==(T=o.updateForm.get("direccion"))?null:T.hasError("maxlength"))&&(null==(T=o.updateForm.get("direccion"))?null:T.touched))}},dependencies:[u.sg,u.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.wO,a.nD,a.sg,a.u,a.F,h.w,f.c]}),n})();var q=p(3809),x=p(3650);function V(n,r){1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"h5"),e._uU(3," No posees ning\xfan producto en favoritos, intenta agregar unos. "),e.qZA(),e._UZ(4,"img",9),e.qZA()())}function X(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw();return e.KtG(s.addProductCart(i.producto.id))}),e._UZ(1,"i",29),e.qZA()}}function W(n,r){1&n&&(e.TgZ(0,"button",30),e._UZ(1,"i",29),e.qZA())}const U=function(n){return["/product/detail",n]};function ee(n,r){if(1&n&&(e.TgZ(0,"a",31),e._uU(1,"Ver detalles"),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,U,t.producto.id))}}function te(n,r){1&n&&(e.TgZ(0,"button",32),e._uU(1,"Agotado"),e.qZA())}function oe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),e._UZ(4,"img",14),e.qZA(),e.TgZ(5,"div",15),e.YNc(6,X,2,0,"button",16),e.YNc(7,W,2,0,"button",17),e.TgZ(8,"button",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteFavoriteProduct(s.id))}),e._UZ(9,"i",19),e.qZA(),e.TgZ(10,"button",20),e._UZ(11,"i",21),e.qZA()()(),e.TgZ(12,"div",22)(13,"a",23)(14,"h4"),e._uU(15),e.qZA()(),e.TgZ(16,"h5"),e._uU(17),e.qZA(),e.TgZ(18,"div",24)(19,"h5",25),e._uU(20),e.qZA()(),e.TgZ(21,"div",26),e.YNc(22,ee,2,3,"a",27),e.YNc(23,te,2,0,"button",28),e.qZA()()()()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(4),e.Q6J("src",o.productImages[t.id]||"assets/Logo_ASIA_DEPOT.png",e.LSH),e.xp6(2),e.Q6J("ngIf",t.producto.Cantidad_Stock>0),e.xp6(1),e.Q6J("ngIf",0==t.producto.Cantidad_Stock),e.xp6(3),e.Q6J("routerLink",e.VKq(10,U,t.producto.id)),e.xp6(3),e.Q6J("routerLink",e.VKq(12,U,t.id)),e.xp6(2),e.Oqu(t.producto.Nombre_Producto),e.xp6(2),e.hij("Cantidad disponible: ",t.producto.Cantidad_Stock,""),e.xp6(3),e.hij("Q",t.producto.Precio_Venta,""),e.xp6(2),e.Q6J("ngIf",t.producto.Cantidad_Stock>0),e.xp6(1),e.Q6J("ngIf",0==t.producto.Cantidad_Stock)}}function ne(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",35)(1,"a",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.changePage(s))}),e._uU(2),e.qZA()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.ekj("active",o.currentPage===t),e.xp6(2),e.Oqu(t)}}function re(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nav",33)(1,"ul",34)(2,"li",35)(3,"a",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changePage(i.currentPage-1))}),e.TgZ(4,"span",37),e._uU(5,"\xab"),e.qZA()()(),e.YNc(6,ne,3,3,"li",38),e.TgZ(7,"li",35)(8,"a",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changePage(i.currentPage+1))}),e.TgZ(9,"span",37),e._uU(10,"\xbb"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.ekj("disabled",1===t.currentPage),e.xp6(4),e.Q6J("ngForOf",t.getPagesArray()),e.xp6(1),e.ekj("disabled",t.currentPage===t.totalPages)}}function ae(n,r){1&n&&(e.TgZ(0,"div",8)(1,"div",9)(2,"h5"),e._uU(3," \xa1Ups! Parece que a\xfan no hay compras realizadas. \xa1An\xedmate a explorar nuestra tienda y descubrir nuestros incre\xedbles productos! "),e.qZA(),e._UZ(4,"img",10),e.qZA()())}function se(n,r){if(1&n&&(e.TgZ(0,"td",16)(1,"span",22),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.estado.Tipo_Estado)}}function ce(n,r){if(1&n&&(e.TgZ(0,"td",16)(1,"span",22),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.estado.Tipo_Estado)}}function le(n,r){if(1&n&&(e.TgZ(0,"td",16)(1,"span",23),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.estado.Tipo_Estado)}}function pe(n,r){if(1&n&&(e.TgZ(0,"td",16)(1,"span",24),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.estado.Tipo_Estado)}}function ue(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.cancelSale(i.id))}),e._UZ(1,"i",26),e.qZA()}}function de(n,r){1&n&&(e.TgZ(0,"button",27),e._UZ(1,"i",26),e.qZA())}const ge=function(n,r){return["/profile/shopping/history",n,r]};function me(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",16),e._uU(2),e.qZA(),e.TgZ(3,"td",16),e._uU(4),e.qZA(),e.TgZ(5,"td",16),e._uU(6),e.qZA(),e.TgZ(7,"td",16),e._uU(8),e.qZA(),e.YNc(9,se,3,1,"td",17),e.YNc(10,ce,3,1,"td",17),e.YNc(11,le,3,1,"td",17),e.YNc(12,pe,3,1,"td",17),e.TgZ(13,"td",16),e._uU(14),e.qZA(),e.TgZ(15,"td",16)(16,"button",18),e._UZ(17,"i",19),e.qZA()(),e.TgZ(18,"td",16),e.YNc(19,ue,2,0,"button",20),e.YNc(20,de,2,0,"button",21),e.qZA()()),2&n){const t=r.$implicit,o=r.index,i=e.oxw(2);e.xp6(2),e.Oqu(t.Numero_Orden),e.xp6(2),e.Oqu(i.countProducts[o]),e.xp6(2),e.hij("Q.",t.Total_Factura,""),e.xp6(2),e.AsE(" ",t.cliente.Nombre_Cliente," ",t.cliente.Apellido_Cliente," "),e.xp6(1),e.Q6J("ngIf","Pendiente"===t.estado.Tipo_Estado),e.xp6(1),e.Q6J("ngIf","En proceso"===t.estado.Tipo_Estado),e.xp6(1),e.Q6J("ngIf","Completado"===t.estado.Tipo_Estado),e.xp6(1),e.Q6J("ngIf","Cancelado"===t.estado.Tipo_Estado),e.xp6(2),e.Oqu(t.createdAt),e.xp6(2),e.Q6J("routerLink",e.WLB(13,ge,t.id,t.Numero_Orden)),e.xp6(3),e.Q6J("ngIf","Pendiente"===t.estado.Tipo_Estado),e.xp6(1),e.Q6J("ngIf","Pendiente"!==t.estado.Tipo_Estado)}}function _e(n,r){if(1&n&&(e.TgZ(0,"table",11)(1,"thead",12)(2,"tr",13)(3,"th"),e._uU(4,"No. de Orden"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"No. de Productos"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Total"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Cliente"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Estado"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Fecha Registrada"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Ver"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Cancelar"),e.qZA()()(),e.TgZ(19,"tbody",14),e.YNc(20,me,21,16,"tr",15),e.qZA()()),2&n){const t=e.oxw();e.xp6(20),e.Q6J("ngForOf",t.shoppingHistory)}}function he(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li",30)(1,"a",35),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.changePage(s))}),e._uU(2),e.qZA()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.ekj("active",o.currentPage===t),e.xp6(2),e.Oqu(t)}}function fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nav",28)(1,"ul",29)(2,"li",30)(3,"a",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changePage(i.currentPage-1))}),e.TgZ(4,"span",32),e._uU(5,"\xab"),e.qZA()()(),e.YNc(6,he,3,3,"li",33),e.TgZ(7,"li",30)(8,"a",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changePage(i.currentPage+1))}),e.TgZ(9,"span",32),e._uU(10,"\xbb"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.ekj("disabled",1===t.currentPage),e.xp6(4),e.Q6J("ngForOf",t.getPagesArray()),e.xp6(1),e.ekj("disabled",t.currentPage===t.totalPages)}}function ve(n,r){1&n&&(e.TgZ(0,"div",6)(1,"div",7)(2,"h5"),e._uU(3," Ups, el detalle de la compra no ha sido encontrado, selecciona otro o intenta m\xe1s tarde. "),e.qZA(),e._UZ(4,"img",8),e.qZA()())}function Pe(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",12)(2,"div",14)(3,"div",15),e._UZ(4,"img",16),e.qZA(),e.TgZ(5,"div",17),e._uU(6),e.qZA()()(),e.TgZ(7,"td",18),e._uU(8),e.qZA(),e.TgZ(9,"td",18),e._uU(10),e.qZA(),e.TgZ(11,"td",18),e._uU(12),e.qZA()()),2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(4),e.Q6J("src",o.productImages[t.producto.id]||"assets/Logo_ASIA_DEPOT.png",e.LSH),e.xp6(2),e.hij(" ",t.producto.Nombre_Producto," "),e.xp6(2),e.hij("Q.",t.Precio_Unitario,""),e.xp6(2),e.Oqu(t.Cantidad_Producto),e.xp6(2),e.hij("Q.",t.Subtotal_Venta,"")}}function Ze(n,r){if(1&n&&(e.TgZ(0,"table",9)(1,"thead",10)(2,"tr",11)(3,"th"),e._uU(4,"Productos"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Precio"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Cantidad"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Subtotal"),e.qZA()()(),e.TgZ(11,"tbody",12),e.YNc(12,Pe,13,5,"tr",13),e.qZA()()),2&n){const t=e.oxw();e.xp6(12),e.Q6J("ngForOf",t.shoppingDetail.detalles_venta)}}function Ce(n,r){1&n&&(e.TgZ(0,"th"),e._uU(1,"Cancelar"),e.qZA())}function Te(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.cancelSale(i.shoppingDetail.id))}),e._UZ(1,"i",22),e.qZA()}}function Ae(n,r){if(1&n&&(e.TgZ(0,"table",9)(1,"thead",10)(2,"tr",11)(3,"th"),e._uU(4,"No. Orden"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Cliente"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Fecha de Registro"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Estado"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Total"),e.qZA(),e.YNc(13,Ce,2,0,"th",19),e.qZA()(),e.TgZ(14,"tbody",12)(15,"tr")(16,"td",18),e._uU(17),e.qZA(),e.TgZ(18,"td",18),e._uU(19),e.qZA(),e.TgZ(20,"td",18),e._uU(21),e.qZA(),e.TgZ(22,"td",18),e._uU(23),e.qZA(),e.TgZ(24,"td",18),e._uU(25),e.qZA(),e.TgZ(26,"td",18),e.YNc(27,Te,2,0,"button",20),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(13),e.Q6J("ngIf",!0===t.cancelShopping),e.xp6(4),e.Oqu(t.shoppingDetail.Numero_Orden),e.xp6(2),e.AsE("",t.shoppingDetail.cliente.Nombre_Cliente," ",t.shoppingDetail.cliente.Apellido_Cliente,""),e.xp6(2),e.Oqu(t.shoppingDetail.createdAt),e.xp6(2),e.Oqu(t.shoppingDetail.estado.Tipo_Estado),e.xp6(2),e.hij("Q.",t.shoppingDetail.Total_Factura,""),e.xp6(2),e.Q6J("ngIf",!0===t.cancelShopping)}}const xe=[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",component:I},{path:"profile/update",component:B},{path:"profile/favorite/products",component:(()=>{class n{constructor(t,o,i,s){this.authService=t,this.productService=o,this.shoppingCartService=i,this.customAlertService=s,this.product=[],this.productImages={},this.totalPages=0,this.currentPage=1,this.pageSize=8,this.noneProducts=!1}ngOnInit(){this.scrollToTop(),this.getFavoriteProducts()}getFavoriteProducts(){if(!this.authService.isAuthenticated())return this.customAlertService.sweetAlertPersonalizada("error","Sin autenticaci\xf3n","Para obtener los products favoritos primero debes de iniciar sesi\xf3n.");this.productService.getFavoriteProducts(`${l.Q}/usuario/ver/productos/favorito`,this.currentPage,this.pageSize).subscribe({next:t=>{this.product=t.favoriteProduct,this.totalPages=t.totalPages,this.currentPage=t.currentPage,this.product=this.product.filter(o=>"Activo"===o.producto.estado.Tipo_Estado),this.product.forEach(o=>{this.getPhotos(o.id)}),this.noneProducts=0!==this.product.length},error:t=>{this.product=[],this.noneProducts=!1}})}getPhotos(t){try{this.productService.getProductPhoto(`${l.Q}/usuario/ver/foto/producto`,t).subscribe({next:o=>{this.productImages[t]=URL.createObjectURL(o)},error:o=>{this.productImages[t]="assets/Logo_ASIA_DEPOT.png",console.log(o.error.error)}})}catch(o){console.log(o.error)}}deleteFavoriteProduct(t){try{if(!this.authService.isAuthenticated())return this.customAlertService.sweetAlertPersonalizada("error","Sin autenticaci\xf3n","Para eliminar un producto de favoritos primero debes de iniciar sesi\xf3n.");this.productService.deleteFavoriteProduct(`${l.Q}/usuario/eliminar/producto/favorito`,t).subscribe({next:o=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",o.msg),this.getFavoriteProducts()},error:o=>{this.customAlertService.sweetAlertPersonalizada("error","Error",o.error.error)}})}catch(o){console.log(o.error)}}addProductCart(t){try{if(!this.authService.isAuthenticated())return this.customAlertService.sweetAlertPersonalizada("error","Sin autenticaci\xf3n","Para agregar un producto al carrito primero debes de iniciar sesi\xf3n.");this.shoppingCartService.addProductCart(`${l.Q}/usuario/carrito/agregar`,{ID_Producto_FK:t,Cantidad_Producto:1}).subscribe({next:i=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",i.msg),this.getFavoriteProducts()},error:i=>{this.customAlertService.sweetAlertPersonalizada("error","Error",i.error.error)}})}catch(o){console.log(o.error)}}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.getFavoriteProducts(),this.scrollToTop())}getPagesArray(){const t=[];for(let o=1;o<=this.totalPages;o++)t.push(o);return t}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.e),e.Y36(q.M),e.Y36(x.F),e.Y36(_.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-favorite-products"]],decls:10,vars:3,consts:[[1,"container-fluid","pt-5","pb-3"],[1,"mx-xl-5","mb-4","text-center"],[1,"row","px-xl-5"],["class","row justify-content-center align-items-center",4,"ngIf"],["class","col-lg-3 col-md-4 col-sm-6 pb-1",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["aria-label","Page navigation example",4,"ngIf"],[1,"row","justify-content-center","align-items-center"],[1,"col-12","text-center"],["width","300","height","300","src","assets/404.jpg","alt","Error 404",1,"img-fluid","rounded-circle"],[1,"col-lg-3","col-md-4","col-sm-6","pb-1"],[1,"product-item","bg-light","shadow-lg","rounded-5","mb-4"],[1,"product-img","position-relative","overflow-hidden"],[1,"col-md4"],["alt","Imagen-Producto",1,"img-fluid","w-100",3,"src"],[1,"product-action"],["class","btn btn-outline-dark btn-square",3,"click",4,"ngIf"],["class","btn btn-outline-dark btn-square","disabled","",4,"ngIf"],[1,"btn","btn-outline-dark","btn-square",3,"click"],[1,"fa","fa-heart"],[1,"btn","btn-outline-dark","btn-square",3,"routerLink"],[1,"fa","fa-search"],[1,"text-center","py-4"],[1,"text-decoration-none","text-truncate","productName",3,"routerLink"],[1,"d-flex","align-items-center","justify-content-center","mt-2"],[2,"margin-right","6px"],[1,"container-btn"],["class","btn btn-primary",3,"routerLink",4,"ngIf"],["class","btn btn-danger","disabled","",4,"ngIf"],[1,"fa","fa-shopping-cart"],["disabled","",1,"btn","btn-outline-dark","btn-square"],[1,"btn","btn-primary",3,"routerLink"],["disabled","",1,"btn","btn-danger"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"btn","page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"btn","page-link",3,"click"],[1,"btn","page-link",3,"click"]],template:function(t,o){1&t&&(e._UZ(0,"app-nav-bar"),e.TgZ(1,"div",0)(2,"h1",1),e._uU(3,"Productos Favoritos"),e.qZA(),e.TgZ(4,"div",2),e.YNc(5,V,5,0,"div",3),e.YNc(6,oe,24,14,"div",4),e.qZA(),e.TgZ(7,"div",5),e.YNc(8,re,11,5,"nav",6),e.qZA()(),e._UZ(9,"app-footer")),2&t&&(e.xp6(5),e.Q6J("ngIf",0==o.noneProducts),e.xp6(1),e.Q6J("ngForOf",o.product),e.xp6(2),e.Q6J("ngIf",o.totalPages>1))},dependencies:[u.sg,u.O5,g.rH,h.w,f.c],styles:[".product-item[_ngcontent-%COMP%]{transition:.5s}.product-action[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center;transition:.5s}.product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{position:relative;margin:100px 3px 0;opacity:0}.product-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 30px #ddd}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]{background:rgba(255,255,255,.7)}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:first-child{opacity:1;margin-top:0;transition:.3s 0s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:nth-child(2){opacity:1;margin-top:0;transition:.3s .05s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:nth-child(3){opacity:1;margin-top:0;transition:.3s .1s}.product-item[_ngcontent-%COMP%]:hover   .product-action[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:nth-child(4){opacity:1;margin-top:0;transition:.3s .15s}.product-item[_ngcontent-%COMP%]   .product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:.5s;width:250px;height:280px}.product-item[_ngcontent-%COMP%]:hover   .product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.2)}.productName[_ngcontent-%COMP%]{color:#000}.container-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{font-weight:700}.text-primary[_ngcontent-%COMP%]{color:#ffd333!important}@media (max-width: 768px){.product-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}}"]}),n})()},{path:"profile/shopping/history",component:(()=>{class n{constructor(t,o){this.shoppingCartService=t,this.customAlertService=o,this.shoppingHistory={},this.countProducts=[],this.totalPages=0,this.currentPage=1,this.pageSize=8,this.noneProducts=!1}ngOnInit(){this.scrollToTop(),this.getShoppingHistory()}getShoppingHistory(){try{this.shoppingCartService.getShoppingHistory(`${l.Q}/usuario/historial/compras`,this.currentPage,this.pageSize).subscribe({next:t=>{this.shoppingHistory=t.shoppingHistory,this.countProducts=t.countProducts,this.totalPages=t.totalPages,this.currentPage=t.currentPage,this.shoppingHistory.forEach(o=>{if(o.createdAt){const c=o.createdAt.split("T")[0];o.createdAt=c}}),this.noneProducts=!0},error:t=>{this.noneProducts=!1}})}catch(t){console.log(t.error)}}cancelSale(t){try{this.shoppingCartService.cancelCustomerSaleId(`${l.Q}/usuario/compra/cancelar`,t).subscribe({next:o=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",o.msg),this.getShoppingHistory()},error:o=>{this.noneProducts=!1}})}catch(o){console.log(o.error)}}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.getShoppingHistory(),this.scrollToTop())}getPagesArray(){const t=[];for(let o=1;o<=this.totalPages;o++)t.push(o);return t}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.F),e.Y36(_.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shopping-history"]],decls:11,vars:3,consts:[[1,"container-fluid","mt-4","mb-5"],[1,"mx-xl-5","mb-4","text-center"],[1,"row","px-xl-5"],[1,"col-lg-8","table-responsive","mb-3"],["class","justify-content-center align-items-center",4,"ngIf"],["class","table table-light table-borderless table-hover mb-0",4,"ngIf"],[1,"d-flex","justify-content-center","mt-3"],["aria-label","Page navigation example",4,"ngIf"],[1,"justify-content-center","align-items-center"],[1,"col-12","text-center"],["width","300","height","300","src","assets/404.jpg","alt","Error 404",1,"img-fluid","rounded-circle"],[1,"table","table-light","table-borderless","table-hover","mb-0"],[1,"thead-dark"],[1,"text-center"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"align-middle","text-center"],["class","align-middle text-center",4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"fa","fa-search"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger","disabled","",4,"ngIf"],[1,"status","pending"],[1,"status","active"],[1,"status","inactive"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-times"],["disabled","",1,"btn","btn-sm","btn-danger"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"btn","page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"btn","page-link",3,"click"],[1,"btn","page-link",3,"click"]],template:function(t,o){1&t&&(e._UZ(0,"app-nav-bar"),e.TgZ(1,"div",0)(2,"h1",1),e._uU(3,"Historial de \xd3rdenes"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3),e.YNc(6,ae,5,0,"div",4),e.YNc(7,_e,21,1,"table",5),e.TgZ(8,"div",6),e.YNc(9,fe,11,5,"nav",7),e.qZA()()()(),e._UZ(10,"app-footer")),2&t&&(e.xp6(6),e.Q6J("ngIf",0==o.noneProducts),e.xp6(1),e.Q6J("ngIf",1==o.noneProducts),e.xp6(2),e.Q6J("ngIf",o.totalPages>1))},dependencies:[u.sg,u.O5,g.rH,h.w,f.c],styles:[".table[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;color:#6c757d}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] + tbody[_ngcontent-%COMP%]{border-top:2px solid #dee2e6}.table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-borderless[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-borderless[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-borderless[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] + tbody[_ngcontent-%COMP%]{border:0}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{color:#6c757d;background-color:#00000013}.table[_ngcontent-%COMP%]   .thead-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;background-color:#343a40;border-color:#454d55}.table-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive[_ngcontent-%COMP%] > .table-bordered[_ngcontent-%COMP%]{border:0}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:10px;padding:6px 16px;color:#f9f9f9;border-radius:20px;font-weight:700}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.active[_ngcontent-%COMP%]{background:#28a745;font-weight:700;font-size:14px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.pending[_ngcontent-%COMP%]{background:#007bff;font-weight:700;font-size:14px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.inactive[_ngcontent-%COMP%]{background:#dc3545;font-weight:700;font-size:14px}"]}),n})()},{path:"profile/shopping/history/:id/:order",component:(()=>{class n{constructor(t,o,i,s){this.route=t,this.productService=o,this.shoppingCartService=i,this.customAlertService=s,this.shoppingDetail={},this.productImages={},this.noneShoppingDetail=!1,this.cancelShopping=!1}ngOnInit(){this.scrollToTop(),this.getParamsId()}getParamsId(){this.route.paramMap.subscribe(t=>{const o=t.get("id");o&&this.getShoppingDetail(o)})}getShoppingDetail(t){try{this.shoppingCartService.shoppingHistoryId(`${l.Q}/usuario/historial/compras`,t).subscribe({next:o=>{this.shoppingDetail=o.shoppingDetail,this.shoppingDetail.Total_Factura=this.shoppingDetail.Total_Factura.toFixed(2);const c=this.shoppingDetail.createdAt.split("T")[0];this.shoppingDetail.createdAt=c,this.cancelShopping="Pendiente"===this.shoppingDetail.estado.Tipo_Estado,this.shoppingDetail.detalles_venta.forEach(d=>{this.getPhotos(d.producto.id)}),this.noneShoppingDetail=!0},error:o=>{this.noneShoppingDetail=!1}})}catch(o){console.log(o.error)}}getPhotos(t){try{this.productService.getProductPhoto(`${l.Q}/usuario/ver/foto/producto`,t).subscribe({next:o=>{this.productImages[t]=URL.createObjectURL(o)},error:o=>{this.productImages[t]="assets/Logo_ASIA_DEPOT.png",console.log(o.error.error)}})}catch(o){console.log(o.error)}}cancelSale(t){try{this.shoppingCartService.cancelCustomerSaleId(`${l.Q}/usuario/compra/cancelar`,t).subscribe({next:o=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",o.msg),this.getParamsId()},error:o=>{this.noneShoppingDetail=!1}})}catch(o){console.log(o.error)}}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.gz),e.Y36(q.M),e.Y36(x.F),e.Y36(_.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shopping-detail"]],decls:10,vars:3,consts:[[1,"container-fluid","mt-4","mb-5"],[1,"mx-xl-5","mb-4","text-center"],[1,"row","px-xl-5"],["class","justify-content-center align-items-center",4,"ngIf"],[1,"col-lg-8","table-responsive","mb-3"],["class","table table-light table-borderless table-hover mb-0",4,"ngIf"],[1,"justify-content-center","align-items-center"],[1,"col-12","text-center"],["width","300","height","300","src","assets/404.jpg","alt","Error 404",1,"img-fluid","rounded-circle"],[1,"table","table-light","table-borderless","table-hover","mb-0"],[1,"thead-dark"],[1,"text-center"],[1,"align-middle"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-column","flex-md-row"],[1,"col-md-2"],["alt","Imagen-Producto",2,"width","50px",3,"src"],[1,"col-md-5"],[1,"align-middle","text-center"],[4,"ngIf"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-times"]],template:function(t,o){1&t&&(e._UZ(0,"app-nav-bar"),e.TgZ(1,"div",0)(2,"h1",1),e._uU(3,"Detalle de Compra"),e.qZA(),e.TgZ(4,"div",2),e.YNc(5,ve,5,0,"div",3),e.TgZ(6,"div",4),e.YNc(7,Ze,13,1,"table",5),e.YNc(8,Ae,28,8,"table",5),e.qZA()()(),e._UZ(9,"app-footer")),2&t&&(e.xp6(5),e.Q6J("ngIf",0==o.noneShoppingDetail),e.xp6(2),e.Q6J("ngIf",1==o.noneShoppingDetail),e.xp6(1),e.Q6J("ngIf",1==o.noneShoppingDetail))},dependencies:[u.sg,u.O5,h.w,f.c],styles:[".table[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;color:#6c757d}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] + tbody[_ngcontent-%COMP%]{border-top:2px solid #dee2e6}.table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-borderless[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-borderless[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-borderless[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] + tbody[_ngcontent-%COMP%]{border:0}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{color:#6c757d;background-color:#00000013}.table[_ngcontent-%COMP%]   .thead-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;background-color:#343a40;border-color:#454d55}.table-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive[_ngcontent-%COMP%] > .table-bordered[_ngcontent-%COMP%]{border:0}"]}),n})()}];let Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(xe),g.Bz]}),n})();var Oe=p(335);let Se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,a.UX,a.u5,Ue,Oe.d]}),n})()}}]);