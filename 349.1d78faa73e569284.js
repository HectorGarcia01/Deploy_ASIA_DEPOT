"use strict";(self.webpackChunkFrontend_ASIA_DEPOT=self.webpackChunkFrontend_ASIA_DEPOT||[]).push([[349],{7349:(we,w,c)=>{c.r(w),c.d(w,{SupplierManagementModule:()=>Ne});var Z=c(6895),i=c(433),b=c(5808),u=c(1548),e=c(8256),P=c(2327),x=c(9616),C=c(529);let S=(()=>{class n{constructor(t,r){this.http=t,this.authService=r}createSupplier(t,r){const l=this.authService.getCookieAuth(),s=new C.WM({Authorization:`Bearer ${l}`});return this.http.post(t,r,{headers:s})}getSuppliers(t,r,l){let s=new C.LE;r&&l&&(s=s.set("page",r.toString()).set("pageSize",l.toString()));const a=this.authService.getCookieAuth(),p=new C.WM({Authorization:`Bearer ${a}`});return this.http.get(t,{params:s,headers:p})}getSupplierId(t,r){const l=this.authService.getCookieAuth(),s=new C.WM({Authorization:`Bearer ${l}`});return this.http.get(t=`${t}/${r}`,{headers:s})}updateSupplier(t,r,l){const s=this.authService.getCookieAuth(),a=new C.WM({Authorization:`Bearer ${s}`});return this.http.patch(t=`${t}/${r}`,l,{headers:a})}deleteSupplier(t,r){const l=this.authService.getCookieAuth(),s=new C.WM({Authorization:`Bearer ${l}`});return this.http.delete(t=`${t}/${r}`,{headers:s})}activateSupplier(t,r){const l=this.authService.getCookieAuth(),s=new C.WM({Authorization:`Bearer ${l}`});return this.http.patch(t=`${t}/${r}`,null,{headers:s})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(C.eN),e.LFG(x.e))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=c(6428),T=c(4554),M=c(7482);function I(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El nombre es demasiado corto (m\xednimo 3 car\xe1cteres). "),e.qZA())}function U(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El nombre es demasiado largo (m\xe1ximo 30 car\xe1cteres). "),e.qZA())}function q(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El nombre no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function y(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El apellido es demasiado corto (m\xednimo 3 car\xe1cteres). "),e.qZA())}function F(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El apellido es demasiado largo (m\xe1ximo 30 car\xe1cteres). "),e.qZA())}function k(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El apellido no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function J(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El nombre de la empresa es demasiado corto (m\xednimo 5 car\xe1cteres). "),e.qZA())}function Q(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El nombre de la empresa es demasiado largo (m\xe1ximo 50 car\xe1cteres). "),e.qZA())}function L(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El nombre de la empresa no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function Y(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El tel\xe9fono es obligatorio. "),e.qZA())}function z(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El tel\xe9fono no es v\xe1lido, debe de poseer 8 d\xedgitos. "),e.qZA())}function $(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El correo es obligatorio. "),e.qZA())}function R(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El correo no es v\xe1lido. "),e.qZA())}function D(n,o){1&n&&(e.TgZ(0,"div",23),e._uU(1," El correo es demasiado largo (m\xe1ximo 40 car\xe1cteres). "),e.qZA())}function j(n,o){1&n&&(e.TgZ(0,"button",24),e._uU(1,"Registrar"),e.qZA())}function B(n,o){1&n&&(e.TgZ(0,"button",25),e._UZ(1,"span",26),e._uU(2," Cargando... "),e.qZA())}function G(n,o){if(1&n&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.estado.Tipo_Estado)}}function H(n,o){if(1&n&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.estado.Tipo_Estado)}}function K(n,o){if(1&n&&(e.TgZ(0,"span",32),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.estado.Tipo_Estado)}}function W(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,s=e.oxw();return e.KtG(s.activateSupplier(l.id))}),e._UZ(1,"i",34),e.qZA()}}function X(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,s=e.oxw();return e.KtG(s.deleteSupplier(l.id))}),e._UZ(1,"i",36),e.qZA()}}const ee=function(n,o){return["/admin/view/supplier",n,o]},te=function(n,o){return["/admin/update/supplier",n,o]};function re(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",17)(2,"p"),e._uU(3),e.qZA()(),e.TgZ(4,"td",17)(5,"p"),e._uU(6),e.qZA()(),e.TgZ(7,"td",17)(8,"p"),e._uU(9),e.qZA()(),e.TgZ(10,"td",17)(11,"p"),e._uU(12),e.qZA()(),e.TgZ(13,"td",17)(14,"p"),e._uU(15),e.qZA()(),e.TgZ(16,"td",17),e.YNc(17,G,2,1,"span",21),e.YNc(18,H,2,1,"span",22),e.YNc(19,K,2,1,"span",23),e.qZA(),e.TgZ(20,"td",17)(21,"button",24),e._UZ(22,"i",25),e.qZA(),e.TgZ(23,"button",26),e._UZ(24,"i",27),e.qZA(),e.YNc(25,W,2,0,"button",28),e.YNc(26,X,2,0,"button",29),e.qZA()()),2&n){const t=o.$implicit,r=e.oxw();e.xp6(3),e.AsE("",t.Nombre_Proveedor," ",t.Apellido_Proveedor,""),e.xp6(3),e.Oqu(t.Nombre_Empresa),e.xp6(3),e.Oqu(t.Telefono_Proveedor),e.xp6(3),e.Oqu(t.Correo_Proveedor),e.xp6(3),e.Oqu(t.createdAt),e.xp6(2),e.Q6J("ngIf","Activo"===t.estado.Tipo_Estado),e.xp6(1),e.Q6J("ngIf","Pendiente"===t.estado.Tipo_Estado),e.xp6(1),e.Q6J("ngIf","Inactivo"===t.estado.Tipo_Estado),e.xp6(2),e.Q6J("routerLink",e.WLB(13,ee,t.id,r.getSupplierName(t))),e.xp6(2),e.Q6J("routerLink",e.WLB(16,te,t.id,r.getSupplierName(t))),e.xp6(2),e.Q6J("ngIf","Inactivo"===t.estado.Tipo_Estado&&!0===r.permissions),e.xp6(1),e.Q6J("ngIf","Inactivo"!==t.estado.Tipo_Estado&&!0===r.permissions)}}function ne(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",39)(1,"a",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.changePage(s))}),e._uU(2),e.qZA()()}if(2&n){const t=o.$implicit,r=e.oxw(2);e.ekj("active",r.currentPage===t),e.xp6(2),e.Oqu(t)}}function oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"nav",37)(1,"ul",38)(2,"li",39)(3,"a",40),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.changePage(l.currentPage-1))}),e.TgZ(4,"span",41),e._uU(5,"\xab"),e.qZA()()(),e.YNc(6,ne,3,3,"li",42),e.TgZ(7,"li",39)(8,"a",43),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.changePage(l.currentPage+1))}),e.TgZ(9,"span",41),e._uU(10,"\xbb"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.ekj("disabled",1===t.currentPage),e.xp6(4),e.Q6J("ngForOf",t.getPagesArray()),e.xp6(1),e.ekj("disabled",t.currentPage===t.totalPages)}}function le(n,o){1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"h5"),e._uU(3," Lo siento, el proveedor que est\xe1s buscando no ha sido encontrado. Verifica el nombre o selecciona otro proveedor. "),e.qZA(),e._UZ(4,"img",9),e.qZA()())}function se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.activateSupplier(l.supplier.id))}),e._uU(1,"Activar Proveedor"),e.qZA()}}function ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",31),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.deleteSupplier(l.supplier.id))}),e._uU(1,"Eliminar Proveedor"),e.qZA()}}const pe=function(n,o){return["/admin/update/supplier",n,o]},ce=function(){return["/admin/list/suppliers"]};function ue(n,o){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h3",13),e._uU(4,"Informaci\xf3n del Proveedor"),e.qZA(),e.TgZ(5,"div",14)(6,"label",15)(7,"strong"),e._uU(8,"Nombre"),e.qZA()(),e.TgZ(9,"p",16),e._uU(10),e.qZA()(),e.TgZ(11,"div",14)(12,"label",17)(13,"strong"),e._uU(14,"Apellido"),e.qZA()(),e.TgZ(15,"p",18),e._uU(16),e.qZA()(),e.TgZ(17,"div",14)(18,"label",19)(19,"strong"),e._uU(20,"Empresa"),e.qZA()(),e.TgZ(21,"p",20),e._uU(22),e.qZA()(),e.TgZ(23,"div",14)(24,"label",21)(25,"strong"),e._uU(26,"Tel\xe9fono"),e.qZA()(),e.TgZ(27,"p",22),e._uU(28),e.qZA()(),e.TgZ(29,"div",14)(30,"label",19)(31,"strong"),e._uU(32,"Correo"),e.qZA()(),e.TgZ(33,"p",20),e._uU(34),e.qZA()()(),e.TgZ(35,"div",23)(36,"h3",13),e._uU(37,"Acciones"),e.qZA(),e.TgZ(38,"div",24)(39,"div",14)(40,"a",25),e._uU(41,"Nuevo Proveedor"),e.qZA()(),e.TgZ(42,"div",14)(43,"a",26),e._uU(44,"Actualizar Proveedor"),e.qZA()(),e.TgZ(45,"div",14),e.YNc(46,se,2,0,"a",27),e.qZA(),e.TgZ(47,"div",14),e.YNc(48,ae,2,0,"a",28),e.qZA(),e.TgZ(49,"div",14)(50,"a",29),e._uU(51,"Regresar"),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(10),e.Oqu(t.supplier.Nombre_Proveedor||"No especificado"),e.xp6(6),e.Oqu(t.supplier.Apellido_Proveedor||"No especificado"),e.xp6(6),e.Oqu(t.supplier.Nombre_Empresa||"No especificado"),e.xp6(6),e.Oqu(t.supplier.Telefono_Proveedor||"No especificado"),e.xp6(6),e.Oqu(t.supplier.Correo_Proveedor||"No especificado"),e.xp6(6),e.Q6J("routerLink","/admin/create/supplier"),e.xp6(3),e.Q6J("routerLink",e.WLB(10,pe,t.supplier.id,t.getSupplierName(t.supplier))),e.xp6(3),e.Q6J("ngIf","Inactivo"===t.dataSupplier&&!0===t.permissions),e.xp6(2),e.Q6J("ngIf","Inactivo"!==t.dataSupplier&&!0===t.permissions),e.xp6(2),e.Q6J("routerLink",e.DdM(13,ce))}}function ge(n,o){1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"h5"),e._uU(3," Lo siento, el proveedor que est\xe1s buscando no ha sido encontrado. Verifica el nombre o selecciona otro proveedor. "),e.qZA(),e._UZ(4,"img",9),e.qZA()())}function me(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El nombre es demasiado corto (m\xednimo 3 car\xe1cteres). "),e.qZA())}function _e(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El nombre es demasiado largo (m\xe1ximo 30 car\xe1cteres). "),e.qZA())}function he(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El nombre no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function fe(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El apellido es demasiado corto (m\xednimo 3 car\xe1cteres). "),e.qZA())}function ve(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El apellido es demasiado largo (m\xe1ximo 30 car\xe1cteres). "),e.qZA())}function be(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El apellido no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function Ce(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El nombre de la empresa es demasiado corto (m\xednimo 5 car\xe1cteres). "),e.qZA())}function Ze(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El nombre de la empresa es demasiado largo (m\xe1ximo 50 car\xe1cteres). "),e.qZA())}function xe(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El nombre de la empresa no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function Pe(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El tel\xe9fono no es v\xe1lido, debe de poseer 8 d\xedgitos. "),e.qZA())}function Se(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El correo no es v\xe1lido. "),e.qZA())}function Ae(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1," El correo es demasiado largo (m\xe1ximo 40 car\xe1cteres). "),e.qZA())}function Te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"h2"),e._uU(3,"Actualizar datos"),e.qZA()(),e.TgZ(4,"form",12),e.NdJ("ngSubmit",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onSubmit())}),e.TgZ(5,"div",13),e._UZ(6,"input",14),e.TgZ(7,"label",15),e._uU(8),e.qZA(),e.YNc(9,me,2,0,"div",16),e.YNc(10,_e,2,0,"div",16),e.YNc(11,he,2,0,"div",16),e.qZA(),e.TgZ(12,"div",13),e._UZ(13,"input",17),e.TgZ(14,"label",18),e._uU(15),e.qZA(),e.YNc(16,fe,2,0,"div",16),e.YNc(17,ve,2,0,"div",16),e.YNc(18,be,2,0,"div",16),e.qZA(),e.TgZ(19,"div",13),e._UZ(20,"input",19),e.TgZ(21,"label",18),e._uU(22),e.qZA(),e.YNc(23,Ce,2,0,"div",16),e.YNc(24,Ze,2,0,"div",16),e.YNc(25,xe,2,0,"div",16),e.qZA(),e.TgZ(26,"div",13),e._UZ(27,"input",20),e.TgZ(28,"label",21),e._uU(29),e.qZA(),e.YNc(30,Pe,2,0,"div",16),e.qZA(),e.TgZ(31,"div",13),e._UZ(32,"input",22),e.TgZ(33,"label",23),e._uU(34),e.qZA(),e.YNc(35,Se,2,0,"div",16),e.YNc(36,Ae,2,0,"div",16),e.qZA(),e.TgZ(37,"div",24)(38,"div",25)(39,"button",26),e._uU(40,"Actualizar datos"),e.qZA()()()()()}if(2&n){const t=e.oxw();let r,l,s,a,p,d,g,m,_,h,f,v;e.xp6(4),e.Q6J("formGroup",t.updateForm),e.xp6(4),e.Oqu(t.supplier.Nombre_Proveedor||"Ingresa el nombre del proveedor"),e.xp6(1),e.Q6J("ngIf",(null==(r=t.updateForm.get("nombre"))?null:r.hasError("minlength"))&&(null==(r=t.updateForm.get("nombre"))?null:r.touched)),e.xp6(1),e.Q6J("ngIf",(null==(l=t.updateForm.get("nombre"))?null:l.hasError("maxlength"))&&(null==(l=t.updateForm.get("nombre"))?null:l.touched)),e.xp6(1),e.Q6J("ngIf",(null==(s=t.updateForm.get("nombre"))?null:s.hasError("pattern"))&&(null==(s=t.updateForm.get("nombre"))?null:s.touched)),e.xp6(4),e.Oqu(t.supplier.Apellido_Proveedor||"Ingresa el apellido del proveedor"),e.xp6(1),e.Q6J("ngIf",(null==(a=t.updateForm.get("apellido"))?null:a.hasError("minlength"))&&(null==(a=t.updateForm.get("apellido"))?null:a.touched)),e.xp6(1),e.Q6J("ngIf",(null==(p=t.updateForm.get("apellido"))?null:p.hasError("maxlength"))&&(null==(p=t.updateForm.get("apellido"))?null:p.touched)),e.xp6(1),e.Q6J("ngIf",(null==(d=t.updateForm.get("apellido"))?null:d.hasError("pattern"))&&(null==(d=t.updateForm.get("apellido"))?null:d.touched)),e.xp6(4),e.Oqu(t.supplier.Nombre_Empresa||"Ingresa el nombre de la empresa"),e.xp6(1),e.Q6J("ngIf",(null==(g=t.updateForm.get("empresa"))?null:g.hasError("minlength"))&&(null==(g=t.updateForm.get("empresa"))?null:g.touched)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.updateForm.get("empresa"))?null:m.hasError("maxlength"))&&(null==(m=t.updateForm.get("empresa"))?null:m.touched)),e.xp6(1),e.Q6J("ngIf",(null==(_=t.updateForm.get("empresa"))?null:_.hasError("pattern"))&&(null==(_=t.updateForm.get("empresa"))?null:_.touched)),e.xp6(4),e.Oqu(t.supplier.Telefono_Proveedor||"Ingresa el tel\xe9fono del proveedor"),e.xp6(1),e.Q6J("ngIf",(null==(h=t.updateForm.get("telefono"))?null:h.hasError("pattern"))&&(null==(h=t.updateForm.get("telefono"))?null:h.touched)),e.xp6(4),e.Oqu(t.supplier.Correo_Proveedor||"Ingresa el correo del proveedor"),e.xp6(1),e.Q6J("ngIf",(null==(f=t.updateForm.get("correo"))?null:f.hasError("email"))&&(null==(f=t.updateForm.get("correo"))?null:f.touched)),e.xp6(1),e.Q6J("ngIf",(null==(v=t.updateForm.get("correo"))?null:v.hasError("maxlength"))&&(null==(v=t.updateForm.get("correo"))?null:v.touched))}}const Me=[{path:"",redirectTo:"create/supplier",pathMatch:"full"},{path:"create/supplier",component:(()=>{class n{constructor(t,r,l,s,a){this.toggleNavBarService=t,this.authService=r,this.supplierService=l,this.customAlertService=s,this.router=a,this.sidebarVisible=!1,this.pathRole="",this.loading=!1,this.toggleNavbarStatus(),this.validateForm()}ngOnInit(){this.isSuperAdmin()}ngOnDestroy(){this.subscription.unsubscribe()}toggleNavbarStatus(){this.subscription=this.toggleNavBarService.sidebarVisibility$.subscribe(t=>{this.sidebarVisible=t;const r=document.getElementById("contentMove");r&&(this.sidebarVisible?(r.style.width="calc(100% - 280px)",r.style.left="280px"):(r.style.width="100%",r.style.left="0"))})}isSuperAdmin(){return"SuperAdmin"===this.authService.getCookieRole()?(this.pathRole="superAdmin",!0):(this.pathRole="admin",!1)}validateForm(){this.registerForm=new i.cw({nombre:new i.NI("",[i.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),i.kI.minLength(3),i.kI.maxLength(30)]),apellido:new i.NI("",[i.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),i.kI.minLength(3),i.kI.maxLength(30)]),empresa:new i.NI("",[i.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),i.kI.minLength(5),i.kI.maxLength(50)]),telefono:new i.NI("",[i.kI.required,i.kI.pattern(/^[345][0-9]{7}$/)]),correo:new i.NI("",[i.kI.required,i.kI.email,i.kI.maxLength(40)])})}getSupplierData(){const t={Nombre_Proveedor:this.registerForm.get("nombre")?.value,Apellido_Proveedor:this.registerForm.get("apellido")?.value,Nombre_Empresa:this.registerForm.get("empresa")?.value,Telefono_Proveedor:this.registerForm.get("telefono")?.value,Correo_Proveedor:this.registerForm.get("correo")?.value};for(const r in t)t.hasOwnProperty(r)&&(null==t[r]||""===t[r])&&delete t[r];return 0===Object.keys(t).length?null:t}onSubmit(){try{if(this.registerForm.valid){this.loading=!0;const t=this.getSupplierData();this.supplierService.createSupplier(`${u.Q}/${this.pathRole}/nuevo/proveedor`,t).subscribe({next:r=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",r.msg),this.registerForm.reset(),this.loading=!1,this.router.navigate(["/admin/list/suppliers"])},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Error",r.error.error)}})}else this.customAlertService.sweetAlertPersonalizada("error","Error","Por favor, verifica los campos del formulario.")}catch(t){console.log(t.error)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.p),e.Y36(x.e),e.Y36(S),e.Y36(A.y),e.Y36(b.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-supplier"]],decls:50,vars:17,consts:[["id","main-content"],[1,"d-flex","justify-content-center"],[1,"col-md-9","mt-4"],[1,"container"],[1,"row","d-flex","justify-content-center"],[1,"col-md-5","bg-light","shadow-lg","rounded-5","p-5","mb-3"],[1,"text-center","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","formControlName","nombre","placeholder","Ingresa el nombre del proveedor",1,"form-control"],["for","registerName"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Ingresa el apellido del proveedor",1,"form-control"],["for","registerUsername"],["type","text","formControlName","empresa","placeholder","Ingresa el nombre de la empresa",1,"form-control"],["type","text","formControlName","telefono","placeholder","Ingresa el n\xfamero de tel\xe9fono del proveedor",1,"form-control"],["for","registerTel"],["type","email","formControlName","correo","placeholder","Ingresa el correo del proveedor",1,"form-control"],["for","registerEmail"],[1,"row","mb-4"],[1,"col-md-12","d-flex","justify-content-center","mt-3"],["type","submit","class","btn btn-primary btn-block w-75",4,"ngIf"],["type","button","class","btn btn-primary btn-block w-75","disabled","",4,"ngIf"],[1,"text-danger"],["type","submit",1,"btn","btn-primary","btn-block","w-75"],["type","button","disabled","",1,"btn","btn-primary","btn-block","w-75"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-nav-bar"),e.TgZ(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h2"),e._uU(9,"Registro de Proveedor"),e.qZA()(),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(11,"div",8),e._UZ(12,"input",9),e.TgZ(13,"label",10),e._uU(14,"Nombre del Proveedor"),e.qZA(),e.YNc(15,I,2,0,"div",11),e.YNc(16,U,2,0,"div",11),e.YNc(17,q,2,0,"div",11),e.qZA(),e.TgZ(18,"div",8),e._UZ(19,"input",12),e.TgZ(20,"label",13),e._uU(21,"Apellido del Proveedor"),e.qZA(),e.YNc(22,y,2,0,"div",11),e.YNc(23,F,2,0,"div",11),e.YNc(24,k,2,0,"div",11),e.qZA(),e.TgZ(25,"div",8),e._UZ(26,"input",14),e.TgZ(27,"label",13),e._uU(28,"Nombre de Empresa"),e.qZA(),e.YNc(29,J,2,0,"div",11),e.YNc(30,Q,2,0,"div",11),e.YNc(31,L,2,0,"div",11),e.qZA(),e.TgZ(32,"div",8),e._UZ(33,"input",15),e.TgZ(34,"label",16),e._uU(35,"Tel\xe9fono de Contacto"),e.qZA(),e.YNc(36,Y,2,0,"div",11),e.YNc(37,z,2,0,"div",11),e.qZA(),e.TgZ(38,"div",8),e._UZ(39,"input",17),e.TgZ(40,"label",18),e._uU(41,"Correo de Contacto"),e.qZA(),e.YNc(42,$,2,0,"div",11),e.YNc(43,R,2,0,"div",11),e.YNc(44,D,2,0,"div",11),e.qZA(),e.TgZ(45,"div",19)(46,"div",20),e.YNc(47,j,2,0,"button",21),e.YNc(48,B,3,0,"button",22),e.qZA()()()()()(),e._UZ(49,"app-footer"),e.qZA()()()),2&t){let l,s,a,p,d,g,m,_,h,f,v,O,E,N;e.xp6(10),e.Q6J("formGroup",r.registerForm),e.xp6(5),e.Q6J("ngIf",(null==(l=r.registerForm.get("nombre"))?null:l.hasError("minlength"))&&(null==(l=r.registerForm.get("nombre"))?null:l.touched)),e.xp6(1),e.Q6J("ngIf",(null==(s=r.registerForm.get("nombre"))?null:s.hasError("maxlength"))&&(null==(s=r.registerForm.get("nombre"))?null:s.touched)),e.xp6(1),e.Q6J("ngIf",(null==(a=r.registerForm.get("nombre"))?null:a.hasError("pattern"))&&(null==(a=r.registerForm.get("nombre"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(p=r.registerForm.get("apellido"))?null:p.hasError("minlength"))&&(null==(p=r.registerForm.get("apellido"))?null:p.touched)),e.xp6(1),e.Q6J("ngIf",(null==(d=r.registerForm.get("apellido"))?null:d.hasError("maxlength"))&&(null==(d=r.registerForm.get("apellido"))?null:d.touched)),e.xp6(1),e.Q6J("ngIf",(null==(g=r.registerForm.get("apellido"))?null:g.hasError("pattern"))&&(null==(g=r.registerForm.get("apellido"))?null:g.touched)),e.xp6(5),e.Q6J("ngIf",(null==(m=r.registerForm.get("empresa"))?null:m.hasError("minlength"))&&(null==(m=r.registerForm.get("empresa"))?null:m.touched)),e.xp6(1),e.Q6J("ngIf",(null==(_=r.registerForm.get("empresa"))?null:_.hasError("maxlength"))&&(null==(_=r.registerForm.get("empresa"))?null:_.touched)),e.xp6(1),e.Q6J("ngIf",(null==(h=r.registerForm.get("empresa"))?null:h.hasError("pattern"))&&(null==(h=r.registerForm.get("empresa"))?null:h.touched)),e.xp6(5),e.Q6J("ngIf",(null==(f=r.registerForm.get("telefono"))?null:f.hasError("required"))&&(null==(f=r.registerForm.get("telefono"))?null:f.touched)),e.xp6(1),e.Q6J("ngIf",(null==(v=r.registerForm.get("telefono"))?null:v.hasError("pattern"))&&(null==(v=r.registerForm.get("telefono"))?null:v.touched)),e.xp6(5),e.Q6J("ngIf",(null==(O=r.registerForm.get("correo"))?null:O.hasError("required"))&&(null==(O=r.registerForm.get("correo"))?null:O.touched)),e.xp6(1),e.Q6J("ngIf",(null==(E=r.registerForm.get("correo"))?null:E.hasError("email"))&&(null==(E=r.registerForm.get("correo"))?null:E.touched)),e.xp6(1),e.Q6J("ngIf",(null==(N=r.registerForm.get("correo"))?null:N.hasError("maxlength"))&&(null==(N=r.registerForm.get("correo"))?null:N.touched)),e.xp6(3),e.Q6J("ngIf",!1===r.loading),e.xp6(1),e.Q6J("ngIf",!0===r.loading)}},dependencies:[Z.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,T.w,M.c]}),n})()},{path:"list/suppliers",component:(()=>{class n{constructor(t,r,l,s){this.toggleNavBarService=t,this.authService=r,this.supplierService=l,this.customAlertService=s,this.sidebarVisible=!1,this.suppliers=[],this.permissions=!1,this.pathRole="",this.totalPages=0,this.currentPage=1,this.pageSize=5,this.searchQuery="",this.toggleNavbarStatus()}isSuperAdmin(){return"SuperAdmin"===this.authService.getCookieRole()?(this.pathRole="superAdmin",this.permissions=!0,!0):(this.pathRole="admin",this.permissions=!1,!1)}ngOnInit(){this.scrollToTop(),this.isSuperAdmin(),this.getSuppliers()}ngOnDestroy(){this.subscription.unsubscribe()}toggleNavbarStatus(){this.subscription=this.toggleNavBarService.sidebarVisibility$.subscribe(t=>{this.sidebarVisible=t;const r=document.getElementById("contentMove");r&&(this.sidebarVisible?(r.style.width="calc(100% - 280px)",r.style.left="280px"):(r.style.width="100%",r.style.left="0"))})}getSuppliers(){try{this.supplierService.getSuppliers(`${u.Q}/${this.pathRole}/ver/proveedores`,this.currentPage,this.pageSize).subscribe({next:t=>{this.suppliers=t.suppliers,this.totalPages=t.totalPages,this.currentPage=t.currentPage,this.suppliers.forEach(r=>{if(r.createdAt){const a=r.createdAt.split("T")[0];r.createdAt=a}})},error:t=>{console.log(t.error.error)}})}catch(t){console.log(t.error)}}onSearch(t){t.preventDefault(),this.searchSuppliers(this.searchQuery)}searchSuppliers(t){try{this.supplierService.getSuppliers(`${u.Q}/${this.pathRole}/ver/proveedores?nombre=${t}`,this.currentPage,this.pageSize).subscribe({next:r=>{this.suppliers=r.suppliers,this.totalPages=r.totalPages,this.currentPage=r.currentPage,this.suppliers.forEach(l=>{if(l.createdAt){const p=l.createdAt.split("T")[0];l.createdAt=p}})},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Error",r.error.error)}})}catch(r){console.log(r.error)}}deleteSupplier(t){try{this.supplierService.deleteSupplier(`${u.Q}/superAdmin/eliminar/proveedor`,t).subscribe({next:r=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",r.msg),this.getSuppliers()},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Error",r.error.error)}})}catch(r){console.log(r.error)}}activateSupplier(t){try{this.supplierService.activateSupplier(`${u.Q}/superAdmin/activar/proveedor`,t).subscribe({next:r=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",r.msg),this.getSuppliers()},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Error",r.error.error)}})}catch(r){console.log(r.error)}}getSupplierName(t){let r;return r=t.Nombre_Proveedor?t.Nombre_Proveedor:t.Nombre_Empresa?t.Nombre_Empresa:"",r.toLowerCase().replace(/ /g,"-")}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.getSuppliers(),this.scrollToTop())}changePageSize(t){this.pageSize=+t.target.value,this.currentPage=1,this.getSuppliers()}getPagesArray(){const t=[];for(let r=1;r<=this.totalPages;r++)t.push(r);return t}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.p),e.Y36(x.e),e.Y36(S),e.Y36(A.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-suppliers"]],decls:59,vars:13,consts:[["id","main-content"],[1,"d-flex","justify-content-center"],[1,"col-md-9","mt-4"],[1,"container"],[1,"row","d-flex","justify-content-center"],["id","contentMove",1,"table-data"],[1,"order"],[1,"head"],[3,"submit"],[1,"form-input"],["type","search","placeholder","Buscar por nombre, empresa o correo","name","search",3,"ngModel","ngModelChange"],["type","submit",1,"search-btn"],[1,"bx","bx-search"],[1,"col-md-1","form-floating"],["aria-label","Default select example",1,"form-select",3,"change"],[3,"value","selected"],["for","registerShow"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mt-3"],["aria-label","Page navigation example",4,"ngIf"],["class","status active",4,"ngIf"],["class","status pending",4,"ngIf"],["class","status inactive",4,"ngIf"],["title","Ver",1,"btn","btn-sm","btn-primary",3,"routerLink"],[1,"fa","fa-search"],["title","Editar",1,"btn","btn-sm","btn-warning",3,"routerLink"],[1,"fa","fa-edit"],["class","btn btn-sm btn-success","title","Activar",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger","title","Desactivar",3,"click",4,"ngIf"],[1,"status","active"],[1,"status","pending"],[1,"status","inactive"],["title","Activar",1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-check"],["title","Desactivar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-times"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"btn","page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"btn","page-link",3,"click"],[1,"btn","page-link",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-nav-bar"),e.TgZ(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h2"),e._uU(10,"Proveedores"),e.qZA(),e.TgZ(11,"form",8),e.NdJ("submit",function(s){return r.onSearch(s)}),e.TgZ(12,"div",9)(13,"input",10),e.NdJ("ngModelChange",function(s){return r.searchQuery=s}),e.qZA(),e.TgZ(14,"button",11),e._UZ(15,"i",12),e.qZA()()(),e.TgZ(16,"div",13)(17,"select",14),e.NdJ("change",function(s){return r.changePageSize(s)}),e.TgZ(18,"option",15),e._uU(19,"5"),e.qZA(),e.TgZ(20,"option",15),e._uU(21,"20"),e.qZA(),e.TgZ(22,"option",15),e._uU(23,"40"),e.qZA(),e.TgZ(24,"option",15),e._uU(25,"60"),e.qZA(),e.TgZ(26,"option",15),e._uU(27,"80"),e.qZA()(),e.TgZ(28,"label",16),e._uU(29,"Mostrar"),e.qZA()()(),e.TgZ(30,"table")(31,"thead")(32,"tr")(33,"th",17)(34,"h5"),e._uU(35,"Nombre"),e.qZA()(),e.TgZ(36,"th",17)(37,"h5"),e._uU(38,"Empresa"),e.qZA()(),e.TgZ(39,"th",17)(40,"h5"),e._uU(41,"Tel\xe9fono"),e.qZA()(),e.TgZ(42,"th",17)(43,"h5"),e._uU(44,"Correo"),e.qZA()(),e.TgZ(45,"th",17)(46,"h5"),e._uU(47,"Fecha de Creaci\xf3n"),e.qZA()(),e.TgZ(48,"th",17)(49,"h5"),e._uU(50,"Estado"),e.qZA()(),e.TgZ(51,"th",17)(52,"h5"),e._uU(53,"Acciones"),e.qZA()()()(),e.TgZ(54,"tbody"),e.YNc(55,re,27,19,"tr",18),e.qZA()(),e.TgZ(56,"div",19),e.YNc(57,oe,11,5,"nav",20),e.qZA()()()()(),e._UZ(58,"app-footer"),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("ngModel",r.searchQuery),e.xp6(5),e.Q6J("value",5)("selected",5===r.pageSize),e.xp6(2),e.Q6J("value",20)("selected",20===r.pageSize),e.xp6(2),e.Q6J("value",40)("selected",40===r.pageSize),e.xp6(2),e.Q6J("value",60)("selected",60===r.pageSize),e.xp6(2),e.Q6J("value",80)("selected",80===r.pageSize),e.xp6(29),e.Q6J("ngForOf",r.suppliers),e.xp6(2),e.Q6J("ngIf",r.totalPages>1))},dependencies:[Z.sg,Z.O5,i._Y,i.YN,i.Kr,i.Fj,i.JJ,i.JL,i.On,i.F,b.rH,T.w,M.c],styles:[".head[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:400px;width:100%;margin-right:auto}.head[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;align-items:center;height:36px}.head[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;padding:0 16px;height:100%;border:none;background:#eee;border-radius:36px 0 0 36px;outline:none;width:100%;color:#342e37}.head[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:100%;display:flex;justify-content:center;align-items:center;background:#3C91E6;color:#f9f9f9;font-size:18px;border:none;outline:none;border-radius:0 36px 36px 0;cursor:pointer}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:24px;margin-top:24px;margin-bottom:30px;width:100%;color:#342e37}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:20px;background:#F9F9F9;border:1px solid rgb(181,179,179);padding:24px;overflow-x:auto}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:16px;margin-bottom:24px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-right:auto;font-size:24px;font-weight:600}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .bx[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]{flex-grow:1;flex-basis:500px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-bottom:12px;font-size:13px;text-align:left;border-bottom:1px solid #eee}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 0}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#eee}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:10px;padding:6px 16px;color:#f9f9f9;border-radius:20px;font-weight:700}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.active[_ngcontent-%COMP%]{background:#28a745;font-weight:700;font-size:14px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.pending[_ngcontent-%COMP%]{background:#007bff;font-weight:700;font-size:14px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.inactive[_ngcontent-%COMP%]{background:#dc3545;font-weight:700;font-size:14px}@media (max-width: 768px){.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{margin-top:10px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;padding:10px 0}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-bottom:1px solid #eee;padding:20px 0}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 0;text-align:center}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:15px;padding:6px 12px}}"]}),n})()},{path:"view/supplier/:id/:name",component:(()=>{class n{constructor(t,r,l,s,a){this.toggleNavBarService=t,this.route=r,this.authService=l,this.supplierService=s,this.customAlertService=a,this.sidebarVisible=!1,this.supplier={},this.dataSupplier={},this.permissions=!1,this.pathRole="",this.error404=!1,this.toggleNavbarStatus()}ngOnInit(){this.isSuperAdmin(),this.getParamsId()}ngOnDestroy(){this.subscription.unsubscribe()}toggleNavbarStatus(){this.subscription=this.toggleNavBarService.sidebarVisibility$.subscribe(t=>{this.sidebarVisible=t;const r=document.getElementById("contentMove");r&&(this.sidebarVisible?(r.style.width="calc(100% - 280px)",r.style.left="280px"):(r.style.width="100%",r.style.left="0"))})}getParamsId(){this.route.paramMap.subscribe(t=>{const r=t.get("id");r&&this.getSupplier(r)})}isSuperAdmin(){return"SuperAdmin"===this.authService.getCookieRole()?(this.pathRole="superAdmin",this.permissions=!0,!0):(this.pathRole="admin",this.permissions=!1,!1)}getSupplier(t){try{this.supplierService.getSupplierId(`${u.Q}/${this.pathRole}/ver/proveedor`,t).subscribe({next:r=>{if(this.supplier=r.supplier,this.dataSupplier=this.supplier.estado.Tipo_Estado,this.error404=!1,this.supplier.createdAt){const a=this.supplier.createdAt.split("T")[0];this.supplier.createdAt=a}},error:r=>{this.error404=!0,console.log(r.error.error)}})}catch(r){console.log(r.error)}}deleteSupplier(t){try{this.supplierService.deleteSupplier(`${u.Q}/superAdmin/eliminar/proveedor`,t).subscribe({next:r=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",r.msg),this.getParamsId()},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Error",r.error.error)}})}catch(r){console.log(r.error)}}activateSupplier(t){try{this.supplierService.activateSupplier(`${u.Q}/superAdmin/activar/proveedor`,t).subscribe({next:r=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",r.msg),this.getParamsId()},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Error",r.error.error)}})}catch(r){console.log(r.error)}}getSupplierName(t){let r;return r=t.Nombre_Proveedor?t.Nombre_Proveedor:t.Nombre_Empresa?t.Nombre_Empresa:"",r.toLowerCase().replace(/ /g,"-")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.p),e.Y36(b.gz),e.Y36(x.e),e.Y36(S),e.Y36(A.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-supplier"]],decls:9,vars:2,consts:[["id","main-content"],[1,"d-flex","justify-content-center"],[1,"col-md-9","mt-4"],[1,"container"],[1,"row","d-flex","justify-content-center"],["class","row justify-content-center align-items-center",4,"ngIf"],["class","col-md-9 mb-5",4,"ngIf"],[1,"row","justify-content-center","align-items-center"],[1,"col-12","text-center","mt-5"],["width","500","height","500","src","assets/404_2.jpg","alt","Error 404",1,"img-fluid","rounded-circle"],[1,"col-md-9","mb-5"],[1,"d-flex","flex-column","flex-md-row","align-items-center","justify-content-between"],[1,"col-md-6","bg-light","p-5","mb-5","container-info"],[1,"mb-4"],[1,"mb-3"],["for","nombre"],["id","nombre"],["for","apellido"],["id","apellido"],["for","correo"],["id","correo"],["for","telefono"],["id","telefono"],[1,"col-md-5","bg-light","p-5"],[1,"d-flex","flex-column","btnAction"],[1,"btn","btn-success","btn-block",3,"routerLink"],[1,"btn","btn-primary","btn-block",3,"routerLink"],["class","btn btn-primary btn-block",3,"click",4,"ngIf"],["class","btn btn-danger btn-block",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-block",3,"routerLink"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"btn","btn-danger","btn-block",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-nav-bar"),e.TgZ(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4),e.YNc(6,le,5,0,"div",5),e.YNc(7,ue,52,14,"div",6),e.qZA()(),e._UZ(8,"app-footer"),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",1==r.error404),e.xp6(1),e.Q6J("ngIf",0==r.error404))},dependencies:[Z.O5,b.rH,T.w,M.c],styles:[".btnAction[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{max-width:300px;width:100%}"]}),n})()},{path:"update/supplier/:id/:name",component:(()=>{class n{constructor(t,r,l,s,a,p){this.toggleNavBarService=t,this.route=r,this.authService=l,this.supplierService=s,this.customAlertService=a,this.router=p,this.sidebarVisible=!1,this.supplierId="",this.supplier={},this.permissions=!1,this.pathRole="",this.error404=!1,this.toggleNavbarStatus(),this.validateForm()}ngOnInit(){this.isSuperAdmin(),this.getParamsId()}ngOnDestroy(){this.subscription.unsubscribe()}toggleNavbarStatus(){this.subscription=this.toggleNavBarService.sidebarVisibility$.subscribe(t=>{this.sidebarVisible=t;const r=document.getElementById("contentMove");r&&(this.sidebarVisible?(r.style.width="calc(100% - 280px)",r.style.left="280px"):(r.style.width="100%",r.style.left="0"))})}getParamsId(){this.route.paramMap.subscribe(t=>{this.supplierId=t.get("id"),this.getSupplierId(this.supplierId)})}isSuperAdmin(){return"SuperAdmin"===this.authService.getCookieRole()?(this.pathRole="superAdmin",this.permissions=!0,!0):(this.pathRole="admin",this.permissions=!1,!1)}getSupplierId(t){try{this.supplierService.getSupplierId(`${u.Q}/${this.pathRole}/ver/proveedor`,t).subscribe({next:r=>{this.supplier=r.supplier,this.error404=!1},error:r=>{this.error404=!0,console.log(r.error.error)}})}catch(r){console.log(r.error)}}validateForm(){this.updateForm=new i.cw({nombre:new i.NI("",[i.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),i.kI.minLength(3),i.kI.maxLength(30)]),apellido:new i.NI("",[i.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),i.kI.minLength(3),i.kI.maxLength(30)]),empresa:new i.NI("",[i.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),i.kI.minLength(5),i.kI.maxLength(50)]),telefono:new i.NI("",[i.kI.pattern(/^[345][0-9]{7}$/)]),correo:new i.NI("",[i.kI.email,i.kI.maxLength(40)])})}getSupplierData(){const t={Nombre_Proveedor:this.updateForm.get("nombre")?.value,Apellido_Proveedor:this.updateForm.get("apellido")?.value,Nombre_Empresa:this.updateForm.get("empresa")?.value,Telefono_Proveedor:this.updateForm.get("telefono")?.value,Correo_Proveedor:this.updateForm.get("correo")?.value};for(const r in t)t.hasOwnProperty(r)&&(null==t[r]||""===t[r])&&delete t[r];return 0===Object.keys(t).length?null:t}onSubmit(){try{if(this.updateForm.valid){const t=this.getSupplierData();t?this.supplierService.updateSupplier(`${u.Q}/${this.pathRole}/actualizar/proveedor`,this.supplierId,t).subscribe({next:r=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",r.msg),this.updateForm.reset(),this.router.navigate(["/admin/list/suppliers"])},error:r=>{this.customAlertService.sweetAlertPersonalizada("error","Error",r.error.error)}}):(this.customAlertService.sweetAlertPersonalizada("success","Sin cambios","No has realizado ning\xfan cambio."),this.router.navigate(["/admin/list/suppliers"]))}else this.customAlertService.sweetAlertPersonalizada("error","Error","Por favor, verifica los campos del formulario.")}catch(t){console.log(t.error)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.p),e.Y36(b.gz),e.Y36(x.e),e.Y36(S),e.Y36(A.y),e.Y36(b.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-supplier"]],decls:9,vars:2,consts:[["id","main-content"],[1,"d-flex","justify-content-center"],[1,"col-md-9","mt-5"],[1,"container"],[1,"row","d-flex","justify-content-center"],["class","row justify-content-center align-items-center",4,"ngIf"],["class","col-md-5 bg-light shadow-lg rounded-5 p-5 p-5 mb-3",4,"ngIf"],[1,"row","justify-content-center","align-items-center"],[1,"col-12","text-center","mt-5"],["width","500","height","500","src","assets/404_2.jpg","alt","Error 404",1,"img-fluid","rounded-circle"],[1,"col-md-5","bg-light","shadow-lg","rounded-5","p-5","p-5","mb-3"],[1,"text-center","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","formControlName","nombre","placeholder","Ingresa el nombre del proveedor",1,"form-control"],["for","registerName"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Ingresa el apellido del proveedor",1,"form-control"],["for","registerUsername"],["type","text","formControlName","empresa","placeholder","Ingresa el nombre de la empresa",1,"form-control"],["type","text","formControlName","telefono","placeholder","Ingresa el n\xfamero de tel\xe9fono del proveedor",1,"form-control"],["for","registerTel"],["type","email","formControlName","correo","placeholder","Ingresa el correo del proveedor",1,"form-control"],["for","registerEmail"],[1,"row","mb-4"],[1,"col-md-12","d-flex","justify-content-center","mt-3"],["type","submit",1,"btn","btn-primary","btn-block","w-75"],[1,"text-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-nav-bar"),e.TgZ(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4),e.YNc(6,ge,5,0,"div",5),e.YNc(7,Te,41,18,"div",6),e.qZA()(),e._UZ(8,"app-footer"),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("ngIf",1==r.error404),e.xp6(1),e.Q6J("ngIf",0==r.error404))},dependencies:[Z.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,T.w,M.c]}),n})()}];let Oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.Bz.forChild(Me),b.Bz]}),n})();var Ee=c(592);let Ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.ez,i.UX,i.u5,Oe,Ee.g]}),n})()}}]);