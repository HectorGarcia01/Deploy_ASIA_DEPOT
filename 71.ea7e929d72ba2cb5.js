"use strict";(self.webpackChunkFrontend_ASIA_DEPOT=self.webpackChunkFrontend_ASIA_DEPOT||[]).push([[71],{9071:(y,c,t)=>{t.r(c),t.d(c,{AdminHomeModule:()=>b});var d=t(6895),s=t(5808),a=t(1548),e=t(8256),m=t(9616),u=t(7638),p=t(69),h=t(6428),g=t(4554),f=t(7482);function v(r,l){if(1&r&&(e.TgZ(0,"div",14)(1,"label",28)(2,"strong"),e._uU(3,"NIT"),e.qZA()(),e.TgZ(4,"p",29),e._uU(5),e.qZA()()),2&r){const o=e.oxw();e.xp6(5),e.Oqu(o.employee.NIT_Empleado)}}const A=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:(()=>{class r{constructor(o,i,n,S){this.authService=o,this.adminService=i,this.sharedService=n,this.customAlertService=S,this.employee={},this.image="assets/transparent.png",this.pathRole=""}ngOnInit(){this.viewProfile(),this.getProfilePicture()}isSuperAdmin(){return"SuperAdmin"===this.authService.getCookieRole()?(this.pathRole="superAdmin",!0):(this.pathRole="admin",!1)}viewProfile(){try{this.isSuperAdmin(),this.adminService.getEmployeeProfile(`${a.Q}/${this.pathRole}/ver/perfil`).subscribe({next:o=>{this.employee=o.employee},error:o=>{this.customAlertService.sweetAlertPersonalizada("error","Error",o.error.error)}})}catch(o){console.log(o.error)}}getProfilePicture(){try{this.isSuperAdmin(),this.adminService.getProfilePhoto(`${a.Q}/${this.pathRole}/ver/avatar`).subscribe({next:o=>{this.image=URL.createObjectURL(o)},error:o=>{this.image="assets/perfil_picture.png"}})}catch(o){console.log(o.error)}}deleteProfilePicture(){try{this.adminService.deleteProfilePhoto(`${a.Q}/${this.pathRole}/eliminar/avatar`).subscribe({next:o=>{this.image="assets/perfil_picture.png",this.customAlertService.sweetAlertPersonalizada("success","Exitoso",o.msg),this.sharedService.profileImageUpdated.emit("assets/perfil_picture.png")},error:o=>{this.customAlertService.sweetAlertPersonalizada("error","Error",o.error.error)}})}catch(o){console.log(o.error)}}logout(){try{this.authService.logout().subscribe({next:o=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",o.msg),this.authService.deleteCookie()},error:o=>{this.customAlertService.sweetAlertPersonalizada("error","Error",o.error.error)}})}catch(o){console.log(o.error)}}logoutAll(){try{this.authService.logoutAll().subscribe({next:o=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",o.msg),this.authService.deleteCookie()},error:o=>{this.customAlertService.sweetAlertPersonalizada("error","Error",o.error.error)}})}catch(o){console.log(o.error)}}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(m.e),e.Y36(u.a),e.Y36(p.F),e.Y36(h.y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:62,vars:9,consts:[["id","main-content"],[1,"d-flex","justify-content-center"],[1,"col-md-9","mt-4"],[1,"container"],[1,"row","d-flex","justify-content-center"],[1,"col-md-9","colorEdit","shadow-lg","rounded-5","mb-3"],[1,"d-flex","flex-column","flex-md-row","align-items-center","justify-content-center"],[1,"col-md-4"],["width","70%","alt","Foto-Perfil",1,"img-fluid","rounded-circle",3,"src"],[1,"col-md-6"],[1,"col-md-9","mb-5"],[1,"d-flex","flex-column","flex-md-row","align-items-center","justify-content-between"],[1,"col-md-6","colorEdit","shadow-lg","rounded-5","p-5","mb-5","container-info"],[1,"mb-4"],[1,"mb-3"],["for","nombre"],["id","nombre"],["for","apellido"],["id","apellido"],["for","correo"],["id","correo"],["for","telefono"],["id","telefono"],["class","mb-3",4,"ngIf"],[1,"col-md-5","colorEdit","shadow-lg","rounded-5","p-5"],[1,"d-flex","flex-column","btnAction"],[1,"btn","btn-primary","btn-block",3,"routerLink"],[1,"btn","btn-danger","btn-block",3,"click"],["for","nit"],["id","nit"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-nav-bar"),e.TgZ(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),e._UZ(9,"img",8),e.qZA(),e.TgZ(10,"div",9)(11,"h1"),e._uU(12),e.qZA(),e.TgZ(13,"h1"),e._uU(14),e.qZA()()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"h3",13),e._uU(19,"Informaci\xf3n personal"),e.qZA(),e.TgZ(20,"div",14)(21,"label",15)(22,"strong"),e._uU(23,"Nombre"),e.qZA()(),e.TgZ(24,"p",16),e._uU(25),e.qZA()(),e.TgZ(26,"div",14)(27,"label",17)(28,"strong"),e._uU(29,"Apellido"),e.qZA()(),e.TgZ(30,"p",18),e._uU(31),e.qZA()(),e.TgZ(32,"div",14)(33,"label",19)(34,"strong"),e._uU(35,"Correo"),e.qZA()(),e.TgZ(36,"p",20),e._uU(37),e.qZA()(),e.TgZ(38,"div",14)(39,"label",21)(40,"strong"),e._uU(41,"Tel\xe9fono"),e.qZA()(),e.TgZ(42,"p",22),e._uU(43),e.qZA()(),e.YNc(44,v,6,1,"div",23),e.qZA(),e.TgZ(45,"div",24)(46,"h3",13),e._uU(47,"Acciones"),e.qZA(),e.TgZ(48,"div",25)(49,"div",14)(50,"a",26),e._uU(51,"Actualizar Datos"),e.qZA()(),e.TgZ(52,"div",14)(53,"a",27),e.NdJ("click",function(){return i.deleteProfilePicture()}),e._uU(54,"Borrar Foto de Perfil"),e.qZA()(),e.TgZ(55,"div",14)(56,"a",27),e.NdJ("click",function(){return i.logout()}),e._uU(57,"Cerrar Sesi\xf3n"),e.qZA()(),e.TgZ(58,"div",14)(59,"a",27),e.NdJ("click",function(){return i.logoutAll()}),e._uU(60,"Cerrar Todas las Sesiones"),e.qZA()()()()()()()(),e._UZ(61,"app-footer"),e.qZA()()()),2&o&&(e.xp6(9),e.s9C("src",i.image,e.LSH),e.xp6(3),e.Oqu(i.employee.Nombre_Empleado),e.xp6(2),e.Oqu(i.employee.Apellido_Empleado),e.xp6(11),e.Oqu(i.employee.Nombre_Empleado),e.xp6(6),e.Oqu(i.employee.Apellido_Empleado),e.xp6(6),e.Oqu(i.employee.Correo_Empleado),e.xp6(6),e.Oqu(i.employee.Telefono_Empleado),e.xp6(1),e.Q6J("ngIf",i.employee.NIT_Empleado),e.xp6(6),e.Q6J("routerLink","/admin/profile/update"))},dependencies:[d.O5,s.rH,g.w,f.c]}),r})()}];let Z=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.Bz.forChild(A),s.Bz]}),r})();var T=t(592);let b=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez,Z,T.g]}),r})()}}]);