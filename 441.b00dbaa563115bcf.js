"use strict";(self.webpackChunkFrontend_ASIA_DEPOT=self.webpackChunkFrontend_ASIA_DEPOT||[]).push([[441],{7441:(j,h,s)=>{s.r(h),s.d(h,{CategoryManagementModule:()=>$});var u=s(6895),i=s(433),p=s(5808),t=s(8256),m=s(4554),C=s(7482);let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-new-category"]],decls:7,vars:0,consts:[["id","main-content"],[1,"d-flex","justify-content-center"],[1,"col-md-9","mt-4"],[1,"container"],[1,"row","d-flex","justify-content-center"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-nav-bar"),t.TgZ(2,"section",1)(3,"div",2)(4,"div",3),t._UZ(5,"div",4),t.qZA(),t._UZ(6,"app-footer"),t.qZA()()())},dependencies:[m.w,C.c]}),o})();var d=s(1548),f=s(2327),b=s(9616),v=s(4713),P=s(6428);function x(o,r){if(1&o&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado.Tipo_Estado)}}function O(o,r){if(1&o&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado.Tipo_Estado)}}function y(o,r){if(1&o&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.estado.Tipo_Estado)}}function Z(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.activateCategory(a.id))}),t._UZ(1,"i",32),t.qZA()}}function A(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.deleteCategory(a.id))}),t._UZ(1,"i",34),t.qZA()}}const T=function(o,r){return["/admin/update/category",o,r]};function w(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td",17)(2,"p"),t._uU(3),t.qZA()(),t.TgZ(4,"td",17)(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"td",17)(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"td",17),t.YNc(11,x,2,1,"span",21),t.YNc(12,O,2,1,"span",22),t.YNc(13,y,2,1,"span",23),t.qZA(),t.TgZ(14,"td",17)(15,"button",24),t._UZ(16,"i",25),t.qZA(),t.YNc(17,Z,2,0,"button",26),t.YNc(18,A,2,0,"button",27),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.xp6(3),t.Oqu(e.Nombre_Categoria),t.xp6(3),t.Oqu(e.Descripcion_Categoria),t.xp6(3),t.Oqu(e.createdAt),t.xp6(2),t.Q6J("ngIf","Activo"===e.estado.Tipo_Estado),t.xp6(1),t.Q6J("ngIf","Pendiente"===e.estado.Tipo_Estado),t.xp6(1),t.Q6J("ngIf","Inactivo"===e.estado.Tipo_Estado),t.xp6(2),t.Q6J("routerLink",t.WLB(9,T,e.id,n.getCategoryName(e))),t.xp6(2),t.Q6J("ngIf","Inactivo"===e.estado.Tipo_Estado&&!0===n.permissions),t.xp6(1),t.Q6J("ngIf","Inactivo"!==e.estado.Tipo_Estado&&!0===n.permissions)}}function U(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"li",37)(1,"a",42),t.NdJ("click",function(){const c=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.changePage(c))}),t._uU(2),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw(2);t.ekj("active",n.currentPage===e),t.xp6(2),t.Oqu(e)}}function E(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"nav",35)(1,"ul",36)(2,"li",37)(3,"a",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changePage(a.currentPage-1))}),t.TgZ(4,"span",39),t._uU(5,"\xab"),t.qZA()()(),t.YNc(6,U,3,3,"li",40),t.TgZ(7,"li",37)(8,"a",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changePage(a.currentPage+1))}),t.TgZ(9,"span",39),t._uU(10,"\xbb"),t.qZA()()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.ekj("disabled",1===e.currentPage),t.xp6(4),t.Q6J("ngForOf",e.getPagesArray()),t.xp6(1),t.ekj("disabled",e.currentPage===e.totalPages)}}function F(o,r){1&o&&(t.TgZ(0,"div",7)(1,"div",8)(2,"h5"),t._uU(3," Lo siento, la categor\xeda que est\xe1s buscando no ha sido encontrado. Verifica el nombre o selecciona otra categor\xeda. "),t.qZA(),t._UZ(4,"img",9),t.qZA()())}function N(o,r){1&o&&(t.TgZ(0,"div",22),t._uU(1," El nombre de categor\xeda es demasiado corto (m\xednimo 3 car\xe1cteres). "),t.qZA())}function I(o,r){1&o&&(t.TgZ(0,"div",22),t._uU(1," El nombre de categor\xeda es demasiado largo (m\xe1ximo 50 car\xe1cteres). "),t.qZA())}function q(o,r){1&o&&(t.TgZ(0,"div",22),t._uU(1," El nombre no es v\xe1lido, no use car\xe1cteres especiales. "),t.qZA())}function J(o,r){1&o&&(t.TgZ(0,"div",22),t._uU(1," La descripci\xf3n no es v\xe1lida, no use car\xe1cteres especiales. "),t.qZA())}function z(o,r){1&o&&(t.TgZ(0,"div",22),t._uU(1," La descripci\xf3n es demasiado corta (m\xednimo 10 car\xe1cteres). "),t.qZA())}function k(o,r){1&o&&(t.TgZ(0,"div",22),t._uU(1," La descripci\xf3n es demasiado larga (m\xe1ximo 200 car\xe1cteres). "),t.qZA())}function L(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"h2"),t._uU(3,"Actualizar datos"),t.qZA()(),t.TgZ(4,"form",12),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSubmit())}),t.TgZ(5,"div",13),t._UZ(6,"input",14),t.TgZ(7,"label",15),t._uU(8),t.qZA(),t.YNc(9,N,2,0,"div",16),t.YNc(10,I,2,0,"div",16),t.YNc(11,q,2,0,"div",16),t.qZA(),t.TgZ(12,"div",13),t._UZ(13,"textarea",17),t.TgZ(14,"label",18),t._uU(15,"Descripci\xf3n de Categor\xeda"),t.qZA(),t.YNc(16,J,2,0,"div",16),t.YNc(17,z,2,0,"div",16),t.YNc(18,k,2,0,"div",16),t.qZA(),t.TgZ(19,"div",19)(20,"div",20)(21,"button",21),t._uU(22,"Actualizar datos"),t.qZA()()()()()}if(2&o){const e=t.oxw();let n,a,c,g,l,_;t.xp6(4),t.Q6J("formGroup",e.updateForm),t.xp6(4),t.Oqu(e.category.Nombre_Categoria),t.xp6(1),t.Q6J("ngIf",(null==(n=e.updateForm.get("nombre"))?null:n.hasError("minlength"))&&(null==(n=e.updateForm.get("nombre"))?null:n.touched)),t.xp6(1),t.Q6J("ngIf",(null==(a=e.updateForm.get("nombre"))?null:a.hasError("maxlength"))&&(null==(a=e.updateForm.get("nombre"))?null:a.touched)),t.xp6(1),t.Q6J("ngIf",(null==(c=e.updateForm.get("nombre"))?null:c.hasError("pattern"))&&(null==(c=e.updateForm.get("nombre"))?null:c.touched)),t.xp6(5),t.Q6J("ngIf",(null==(g=e.updateForm.get("descripcion"))?null:g.hasError("pattern"))&&(null==(g=e.updateForm.get("descripcion"))?null:g.touched)),t.xp6(1),t.Q6J("ngIf",(null==(l=e.updateForm.get("descripcion"))?null:l.hasError("minlength"))&&(null==(l=e.updateForm.get("descripcion"))?null:l.touched)),t.xp6(1),t.Q6J("ngIf",(null==(_=e.updateForm.get("descripcion"))?null:_.hasError("maxlength"))&&(null==(_=e.updateForm.get("descripcion"))?null:_.touched))}}const Q=[{path:"",redirectTo:"create/category",pathMatch:"full"},{path:"create/category",component:M},{path:"list/categories",component:(()=>{class o{constructor(e,n,a,c){this.toggleNavBarService=e,this.authService=n,this.categoryService=a,this.customAlertService=c,this.sidebarVisible=!1,this.categories=[],this.permissions=!1,this.pathRole="",this.totalPages=0,this.currentPage=1,this.pageSize=5,this.searchQuery="",this.toggleNavbarStatus()}isSuperAdmin(){return"SuperAdmin"===this.authService.getCookieRole()?(this.pathRole="superAdmin",this.permissions=!0,!0):(this.pathRole="admin",this.permissions=!1,!1)}ngOnInit(){this.scrollToTop(),this.isSuperAdmin(),this.getCategories()}ngOnDestroy(){this.subscription.unsubscribe()}toggleNavbarStatus(){this.subscription=this.toggleNavBarService.sidebarVisibility$.subscribe(e=>{this.sidebarVisible=e;const n=document.getElementById("contentMove");n&&(this.sidebarVisible?(n.style.width="calc(100% - 280px)",n.style.left="280px"):(n.style.width="100%",n.style.left="0"))})}getCategories(){try{this.categoryService.getCategories(`${d.Q}/${this.pathRole}/ver/categorias/paginacion`,this.currentPage,this.pageSize).subscribe({next:e=>{this.categories=e.categories,this.totalPages=e.totalPages,this.currentPage=e.currentPage,this.categories.forEach(n=>{if(n.createdAt){const g=n.createdAt.split("T")[0];n.createdAt=g}})},error:e=>{console.log(e.error.error)}})}catch(e){console.log(e.error)}}onSearch(e){e.preventDefault(),this.searchCategories(this.searchQuery)}searchCategories(e){try{this.categoryService.getCategories(`${d.Q}/${this.pathRole}/ver/categorias/paginacion?nombre=${e}`,this.currentPage,this.pageSize).subscribe({next:n=>{this.categories=n.categories,this.totalPages=n.totalPages,this.currentPage=n.currentPage,this.categories.forEach(a=>{if(a.createdAt){const l=a.createdAt.split("T")[0];a.createdAt=l}})},error:n=>{console.log(n.error.error)}})}catch(n){console.log(n.error)}}deleteCategory(e){try{this.categoryService.deleteCategory(`${d.Q}/superAdmin/eliminar/categoria`,e).subscribe({next:n=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",n.msg),this.getCategories()},error:n=>{this.customAlertService.sweetAlertPersonalizada("error","Error",n.error.error)}})}catch(n){console.log(n.error)}}activateCategory(e){try{this.categoryService.activateCategory(`${d.Q}/superAdmin/activar/categoria`,e).subscribe({next:n=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",n.msg),this.getCategories()},error:n=>{this.customAlertService.sweetAlertPersonalizada("error","Error",n.error.error)}})}catch(n){console.log(n.error)}}getCategoryName(e){return e.Nombre_Categoria.toLowerCase().replace(/ /g,"-")}changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.getCategories(),this.scrollToTop())}changePageSize(e){this.pageSize=+e.target.value,this.currentPage=1,this.getCategories()}getPagesArray(){const e=[];for(let n=1;n<=this.totalPages;n++)e.push(n);return e}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.p),t.Y36(b.e),t.Y36(v.u),t.Y36(P.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-categories"]],decls:53,vars:13,consts:[["id","main-content"],[1,"d-flex","justify-content-center"],[1,"col-md-9","mt-4"],[1,"container"],[1,"row","d-flex","justify-content-center"],["id","contentMove",1,"table-data"],[1,"order"],[1,"head"],[3,"submit"],[1,"form-input"],["type","search","placeholder","Buscar por nombre","name","search",3,"ngModel","ngModelChange"],["type","submit",1,"search-btn"],[1,"bx","bx-search"],[1,"col-md-1","form-floating"],["aria-label","Default select example",1,"form-select",3,"change"],[3,"value","selected"],["for","registerShow"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mt-3"],["aria-label","Page navigation example",4,"ngIf"],["class","status active",4,"ngIf"],["class","status pending",4,"ngIf"],["class","status inactive",4,"ngIf"],["title","Editar",1,"btn","btn-sm","btn-warning",3,"routerLink"],[1,"fa","fa-edit"],["class","btn btn-sm btn-success","title","Activar",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger","title","Desactivar",3,"click",4,"ngIf"],[1,"status","active"],[1,"status","pending"],[1,"status","inactive"],["title","Activar",1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-check"],["title","Desactivar",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fa","fa-times"],["aria-label","Page navigation example"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"btn","page-link",3,"click"],["aria-hidden","true"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"btn","page-link",3,"click"],[1,"btn","page-link",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-nav-bar"),t.TgZ(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h2"),t._uU(10,"Categor\xedas"),t.qZA(),t.TgZ(11,"form",8),t.NdJ("submit",function(c){return n.onSearch(c)}),t.TgZ(12,"div",9)(13,"input",10),t.NdJ("ngModelChange",function(c){return n.searchQuery=c}),t.qZA(),t.TgZ(14,"button",11),t._UZ(15,"i",12),t.qZA()()(),t.TgZ(16,"div",13)(17,"select",14),t.NdJ("change",function(c){return n.changePageSize(c)}),t.TgZ(18,"option",15),t._uU(19,"5"),t.qZA(),t.TgZ(20,"option",15),t._uU(21,"20"),t.qZA(),t.TgZ(22,"option",15),t._uU(23,"40"),t.qZA(),t.TgZ(24,"option",15),t._uU(25,"60"),t.qZA(),t.TgZ(26,"option",15),t._uU(27,"80"),t.qZA()(),t.TgZ(28,"label",16),t._uU(29,"Mostrar"),t.qZA()()(),t.TgZ(30,"table")(31,"thead")(32,"tr")(33,"th",17)(34,"h5"),t._uU(35,"Nombre"),t.qZA()(),t.TgZ(36,"th",17)(37,"h5"),t._uU(38,"Descripci\xf3n"),t.qZA()(),t.TgZ(39,"th",17)(40,"h5"),t._uU(41,"Fecha de Creaci\xf3n"),t.qZA()(),t.TgZ(42,"th",17)(43,"h5"),t._uU(44,"Estado"),t.qZA()(),t.TgZ(45,"th",17)(46,"h5"),t._uU(47,"Acciones"),t.qZA()()()(),t.TgZ(48,"tbody"),t.YNc(49,w,19,12,"tr",18),t.qZA()(),t.TgZ(50,"div",19),t.YNc(51,E,11,5,"nav",20),t.qZA()()()()(),t._UZ(52,"app-footer"),t.qZA()()()),2&e&&(t.xp6(13),t.Q6J("ngModel",n.searchQuery),t.xp6(5),t.Q6J("value",5)("selected",5===n.pageSize),t.xp6(2),t.Q6J("value",20)("selected",20===n.pageSize),t.xp6(2),t.Q6J("value",40)("selected",40===n.pageSize),t.xp6(2),t.Q6J("value",60)("selected",60===n.pageSize),t.xp6(2),t.Q6J("value",80)("selected",80===n.pageSize),t.xp6(23),t.Q6J("ngForOf",n.categories),t.xp6(2),t.Q6J("ngIf",n.totalPages>1))},dependencies:[u.sg,u.O5,i._Y,i.YN,i.Kr,i.Fj,i.JJ,i.JL,i.On,i.F,p.rH,m.w,C.c],styles:[".head[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:400px;width:100%;margin-right:auto}.head[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{display:flex;align-items:center;height:36px}.head[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;padding:0 16px;height:100%;border:none;background:#eee;border-radius:36px 0 0 36px;outline:none;width:100%;color:#342e37}.head[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:100%;display:flex;justify-content:center;align-items:center;background:#3C91E6;color:#f9f9f9;font-size:18px;border:none;outline:none;border-radius:0 36px 36px 0;cursor:pointer}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;grid-gap:24px;margin-top:24px;margin-bottom:30px;width:100%;color:#342e37}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:20px;background:#F9F9F9;border:1px solid rgb(181,179,179);padding:24px;overflow-x:auto}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:16px;margin-bottom:24px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-right:auto;font-size:24px;font-weight:600}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .bx[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]{flex-grow:1;flex-basis:500px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-bottom:12px;font-size:13px;text-align:left;border-bottom:1px solid #eee}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 0}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#eee}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:10px;padding:6px 16px;color:#f9f9f9;border-radius:20px;font-weight:700}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.active[_ngcontent-%COMP%]{background:#28a745;font-weight:700;font-size:14px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.pending[_ngcontent-%COMP%]{background:#007bff;font-weight:700;font-size:14px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status.inactive[_ngcontent-%COMP%]{background:#dc3545;font-weight:700;font-size:14px}@media (max-width: 768px){.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{margin-top:10px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;padding:10px 0}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;width:100%;overflow-x:auto}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border-bottom:1px solid #eee;padding:20px 0}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 0;text-align:center}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]   .order[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:15px;padding:6px 12px}}"]}),o})()},{path:"update/category/:id/:name",component:(()=>{class o{constructor(e,n,a,c,g,l){this.toggleNavBarService=e,this.route=n,this.authService=a,this.categoryService=c,this.customAlertService=g,this.router=l,this.sidebarVisible=!1,this.categoryId="",this.category={},this.permissions=!1,this.pathRole="",this.error404=!1,this.toggleNavbarStatus(),this.validateForm()}ngOnInit(){this.isSuperAdmin(),this.getParamsId()}ngOnDestroy(){this.subscription.unsubscribe()}toggleNavbarStatus(){this.subscription=this.toggleNavBarService.sidebarVisibility$.subscribe(e=>{this.sidebarVisible=e;const n=document.getElementById("contentMove");n&&(this.sidebarVisible?(n.style.width="calc(100% - 280px)",n.style.left="280px"):(n.style.width="100%",n.style.left="0"))})}getParamsId(){this.route.paramMap.subscribe(e=>{this.categoryId=e.get("id"),this.getCategoryId(this.categoryId)})}isSuperAdmin(){return"SuperAdmin"===this.authService.getCookieRole()?(this.pathRole="superAdmin",this.permissions=!0,!0):(this.pathRole="admin",this.permissions=!1,!1)}getCategoryId(e){try{this.categoryService.getCategoryId(`${d.Q}/${this.pathRole}/ver/categoria`,e).subscribe({next:n=>{this.category=n.category,this.error404=!1},error:n=>{this.error404=!0,console.log(n.error.error)}})}catch(n){console.log(n.error)}}validateForm(){this.updateForm=new i.cw({nombre:new i.NI("",[i.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),i.kI.minLength(3),i.kI.maxLength(50)]),descripcion:new i.NI("",[i.kI.pattern(/^[^[\]<>(){}_=\\|';]+$/),i.kI.minLength(10),i.kI.maxLength(200)])})}getCategoryData(){const e={Nombre_Categoria:this.updateForm.get("nombre")?.value,Descripcion_Categoria:this.updateForm.get("descripcion")?.value};for(const n in e)e.hasOwnProperty(n)&&(null==e[n]||""===e[n])&&delete e[n];return 0===Object.keys(e).length?null:e}onSubmit(){try{if(this.updateForm.valid){const e=this.getCategoryData();e?this.categoryService.updateCategory(`${d.Q}/${this.pathRole}/actualizar/categoria`,this.categoryId,e).subscribe({next:n=>{this.customAlertService.sweetAlertPersonalizada("success","Exitoso",n.msg),this.updateForm.reset(),this.router.navigate(["/admin/list/categories"])},error:n=>{this.customAlertService.sweetAlertPersonalizada("error","Error",n.error.error)}}):(this.customAlertService.sweetAlertPersonalizada("success","Sin cambios","No has realizado ning\xfan cambio."),this.router.navigate(["/admin/list/categories"]))}else this.customAlertService.sweetAlertPersonalizada("error","Error","Por favor, verifica los campos del formulario.")}catch(e){console.log(e.error)}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.p),t.Y36(p.gz),t.Y36(b.e),t.Y36(v.u),t.Y36(P.y),t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-update-category"]],decls:9,vars:2,consts:[["id","main-content"],[1,"d-flex","justify-content-center"],[1,"col-md-9","mt-5"],[1,"container"],[1,"row","d-flex","justify-content-center"],["class","row justify-content-center align-items-center",4,"ngIf"],["class","col-md-5 bg-light shadow-lg rounded-5 p-5 p-5 mb-3",4,"ngIf"],[1,"row","justify-content-center","align-items-center"],[1,"col-12","text-center","mt-5"],["width","500","height","500","src","assets/404_2.jpg","alt","Error 404",1,"img-fluid","rounded-circle"],[1,"col-md-5","bg-light","shadow-lg","rounded-5","p-5","p-5","mb-3"],[1,"text-center","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","formControlName","nombre","placeholder","Ingresa el nombre del proveedor",1,"form-control"],["for","registerName"],["class","text-danger",4,"ngIf"],["id","floatingTextarea2","minlength","10","maxlength","201","formControlName","descripcion","placeholder","Ingresa tu direcci\xf3n general",1,"form-control",2,"max-height","150px","height","125px"],["for","registerAddress"],[1,"row","mb-4"],[1,"col-md-12","d-flex","justify-content-center","mt-3"],["type","submit",1,"btn","btn-primary","btn-block","w-75"],[1,"text-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-nav-bar"),t.TgZ(2,"section",1)(3,"div",2)(4,"div",3)(5,"div",4),t.YNc(6,F,5,0,"div",5),t.YNc(7,L,23,8,"div",6),t.qZA()(),t._UZ(8,"app-footer"),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngIf",1==n.error404),t.xp6(1),t.Q6J("ngIf",0==n.error404))},dependencies:[u.O5,i._Y,i.Fj,i.JJ,i.JL,i.wO,i.nD,i.sg,i.u,m.w,C.c]}),o})()}];let D=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(Q),p.Bz]}),o})();var Y=s(592);let $=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,i.UX,i.u5,D,Y.g]}),o})()}}]);