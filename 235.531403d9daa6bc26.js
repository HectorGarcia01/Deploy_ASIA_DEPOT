"use strict";(self.webpackChunkFrontend_ASIA_DEPOT=self.webpackChunkFrontend_ASIA_DEPOT||[]).push([[235],{2235:(ge,q,a)=>{a.r(q),a.d(q,{UserRegisterModule:()=>me});var w=a(6895),o=a(433),u=a(5808),S=a(1548),e=a(8256),J=a(6785),x=a(6428),D=a(2150),Y=a(3310);function Q(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El nombre es demasiado corto (m\xednimo 3 car\xe1cteres). "),e.qZA())}function y(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El nombre es demasiado largo (m\xe1ximo 30 car\xe1cteres). "),e.qZA())}function k(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El nombre es obligatorio. "),e.qZA())}function L(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El nombre no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function M(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El apellido es demasiado corto (m\xednimo 3 car\xe1cteres). "),e.qZA())}function R(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El apellido es demasiado largo (m\xe1ximo 30 car\xe1cteres). "),e.qZA())}function P(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El apellido es obligatorio. "),e.qZA())}function $(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El apellido no es v\xe1lido, no use car\xe1cteres especiales. "),e.qZA())}function O(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El tel\xe9fono es obligatorio. "),e.qZA())}function z(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El tel\xe9fono no es v\xe1lido, debe de poseer 8 d\xedgitos. "),e.qZA())}function j(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El NIT no es v\xe1lido. "),e.qZA())}function B(r,i){if(1&r&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&r){const n=i.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij("",n.Nombre_Departamento," ")}}function V(r,i){if(1&r&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&r){const n=i.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.Nombre_Municipio)}}function G(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," La direcci\xf3n no es v\xe1lida, no use car\xe1cteres especiales. "),e.qZA())}function K(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," La direcci\xf3n es demasiado corta (m\xednimo 10 car\xe1cteres). "),e.qZA())}function X(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," La direcci\xf3n es demasiado larga (m\xe1ximo 100 car\xe1cteres). "),e.qZA())}function H(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El correo es obligatorio. "),e.qZA())}function W(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El correo no es v\xe1lido. "),e.qZA())}function ee(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," El correo es demasiado largo (m\xe1ximo 40 car\xe1cteres). "),e.qZA())}function re(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," La contrase\xf1a es obligatoria. "),e.qZA())}function te(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," La contrase\xf1a debe contener al menos una letra may\xfascula, una letra min\xfascula, un d\xedgito y no debe contener espacios en blanco. "),e.qZA())}function oe(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," La contrase\xf1a es demasiado corta (m\xednimo 8 car\xe1cteres). "),e.qZA())}function ne(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," Debes repetir la contrase\xf1a. "),e.qZA())}function ie(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," Las contrase\xf1as no coinciden. "),e.qZA())}const le=function(){return["/login"]},se=[{path:"",redirectTo:"signup",pathMatch:"full"},{path:"signup",component:(()=>{class r{constructor(n,t,l,s){this.fb=n,this.router=t,this.userService=l,this.customAlertService=s,this.departments=[],this.selectedDepartmentId=null,this.selectedMunicipalityId=null,this.municipalities=[],this.submitted=!1,this.validateForm()}ngOnInit(){this.getAddresses()}getAddresses(){this.userService.getAddress(`${S.Q}/usuario/ver/direcciones`).subscribe(n=>{this.departments=n.address})}onDepartmentSelected(n){const t=n.target.value;if(null!==t){this.selectedDepartmentId=Number(t);const l=this.departments.find(s=>s.id===this.selectedDepartmentId);this.municipalities=l?l.municipios:[]}else this.municipalities=[];this.registerForm.get("municipio")?.setValue(null)}validateForm(){this.registerForm=new o.cw({nombre:new o.NI("",[o.kI.required,o.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),o.kI.minLength(3),o.kI.maxLength(30)]),apellido:new o.NI("",[o.kI.required,o.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/),o.kI.minLength(3),o.kI.maxLength(30)]),telefono:new o.NI("",[o.kI.required,o.kI.pattern(/^[345][0-9]{7}$/)]),nit:new o.NI("",[o.kI.pattern("^[0-9]+$")]),direccion:new o.NI("",[o.kI.pattern(/^[^[\]<>(){}_=\\|';]+$/),o.kI.minLength(10),o.kI.maxLength(100)]),correo:new o.NI("",[o.kI.required,o.kI.email,o.kI.maxLength(40)]),password:new o.NI("",[o.kI.required,o.kI.pattern(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?!.*\s).*$/),o.kI.minLength(8),o.kI.maxLength(25)]),repetir_password:new o.NI("",[o.kI.required]),departamento:new o.NI(null,[o.kI.pattern("^[0-9]+$")]),municipio:new o.NI(null,[o.kI.pattern("^[0-9]+$")])},{validators:[this.passwordMatchValidator]})}passwordMatchValidator(n){const t=n.get("password")?.value,l=n.get("repetir_password")?.value;return t===l?null:{passwordsNotMatch:!0}}getUserData(){const n={Nombre_Cliente:this.registerForm.get("nombre")?.value,Apellido_Cliente:this.registerForm.get("apellido")?.value,Telefono_Cliente:this.registerForm.get("telefono")?.value,NIT_Cliente:this.registerForm.get("nit")?.value,Direccion_General:this.registerForm.get("direccion")?.value,Correo_Cliente:this.registerForm.get("correo")?.value,Password_Cliente:this.registerForm.get("password")?.value,Repetir_Password_Cliente:this.registerForm.get("repetir_password")?.value,ID_Departamento_FK:this.registerForm.get("departamento")?.value,ID_Municipio_FK:this.registerForm.get("municipio")?.value};for(const t in n)n.hasOwnProperty(t)&&(null==n[t]||""===n[t])&&delete n[t];return 0===Object.keys(n).length?null:n}onSubmit(){if(this.submitted=!0,this.registerForm.valid){const n=this.registerForm.get("password")?.value,t=this.registerForm.get("repetir_password")?.value;if(n===t){const l=this.getUserData();this.userService.addCustomer(`${S.Q}/nuevo/cliente`,l).subscribe({next:s=>{this.registerForm.reset(),this.customAlertService.sweetAlertPersonalizada("success","Exitoso",s.msg),this.router.navigate(["/login/activate/account"])},error:s=>{this.customAlertService.sweetAlertPersonalizada("error",s.error.error,"Por favor, intenta con otro correo.")}})}else this.registerForm.get("repetir_password")?.setErrors({passwordsNotMatch:!0})}else this.customAlertService.sweetAlertPersonalizada("error","Error","Por favor, verifica los campos del formulario.")}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(o.qu),e.Y36(u.F0),e.Y36(J.v),e.Y36(x.y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sing-up"]],decls:88,vars:27,consts:[[1,"container","mt-2","mb-4"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"tab-content"],["id","pills-login","role","tabpanel","aria-labelledby","tab-login",1,"tab-pane","fade","show","active"],[1,"border","border-2","border-dark","p-5",3,"formGroup","ngSubmit"],[1,"text-center","mb-5"],[1,"form-floating","mb-3"],["type","text","formControlName","nombre","placeholder","Ingresa tu nombre",1,"form-control"],["for","registerName"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Ingresa tu apellido",1,"form-control"],["for","registerUsername"],[1,"row"],[1,"col","form-floating","mb-3"],["type","text","formControlName","telefono","placeholder","Ingresa tu n\xfamero de tel\xe9fono",1,"form-control"],["for","registerTel"],["type","number","formControlName","nit","placeholder","Ingresa tu NIT",1,"form-control"],["for","registerNIT"],["aria-label","Default select example","formControlName","departamento",1,"form-select",3,"change"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["for","registerDepartamento"],["aria-label","Default select example","formControlName","municipio",1,"form-select"],["for","registerMunicipio"],["id","floatingTextarea2","minlength","10","maxlength","101","formControlName","direccion","placeholder","Ingresa tu direcci\xf3n general",1,"form-control",2,"max-height","100px"],["for","registerAddress"],["type","email","formControlName","correo","placeholder","Ingresa tu correo",1,"form-control"],["for","registerEmail"],["type","password","formControlName","password","placeholder","Ingresa tu contrase\xf1a",1,"form-control"],["for","registerPassword"],["type","password","formControlName","repetir_password","placeholder","Repite la contrase\xf1a",1,"form-control"],["for","registerRepeatPassword"],[1,"row","mb-4"],[1,"col-md-12","d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","btn-block","w-75"],[1,"text-center"],[3,"routerLink"],[1,"text-danger"],[3,"value"]],template:function(n,t){if(1&n&&(e._UZ(0,"app-nav-bar"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"form",5),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(7,"h1",6),e._uU(8,"Reg\xedstrate"),e.qZA(),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.TgZ(11,"label",9),e._uU(12,"Nombre"),e.qZA(),e.YNc(13,Q,2,0,"div",10),e.YNc(14,y,2,0,"div",10),e.YNc(15,k,2,0,"div",10),e.YNc(16,L,2,0,"div",10),e.qZA(),e.TgZ(17,"div",7),e._UZ(18,"input",11),e.TgZ(19,"label",12),e._uU(20,"Apellido"),e.qZA(),e.YNc(21,M,2,0,"div",10),e.YNc(22,R,2,0,"div",10),e.YNc(23,P,2,0,"div",10),e.YNc(24,$,2,0,"div",10),e.qZA(),e.TgZ(25,"div",13)(26,"div",14),e._UZ(27,"input",15),e.TgZ(28,"label",16),e._uU(29,"Tel\xe9fono"),e.qZA(),e.YNc(30,O,2,0,"div",10),e.YNc(31,z,2,0,"div",10),e.qZA(),e.TgZ(32,"div",14),e._UZ(33,"input",17),e.TgZ(34,"label",18),e._uU(35,"NIT"),e.qZA(),e.YNc(36,j,2,0,"div",10),e.qZA()(),e.TgZ(37,"div",7)(38,"select",19),e.NdJ("change",function(s){return t.onDepartmentSelected(s)}),e.TgZ(39,"option",20),e._uU(40,"Selecciona un departamento"),e.qZA(),e.YNc(41,B,2,2,"option",21),e.qZA(),e.TgZ(42,"label",22),e._uU(43,"Departamento"),e.qZA()(),e.TgZ(44,"div",7)(45,"select",23)(46,"option",20),e._uU(47,"Selecciona un municipio"),e.qZA(),e.YNc(48,V,2,2,"option",21),e.qZA(),e.TgZ(49,"label",24),e._uU(50,"Municipio"),e.qZA()(),e.TgZ(51,"div",7),e._UZ(52,"textarea",25),e.TgZ(53,"label",26),e._uU(54,"Direcci\xf3n general"),e.qZA(),e.YNc(55,G,2,0,"div",10),e.YNc(56,K,2,0,"div",10),e.YNc(57,X,2,0,"div",10),e.qZA(),e.TgZ(58,"div",7),e._UZ(59,"input",27),e.TgZ(60,"label",28),e._uU(61,"Correo"),e.qZA(),e.YNc(62,H,2,0,"div",10),e.YNc(63,W,2,0,"div",10),e.YNc(64,ee,2,0,"div",10),e.qZA(),e.TgZ(65,"div",7),e._UZ(66,"input",29),e.TgZ(67,"label",30),e._uU(68,"Contrase\xf1a"),e.qZA(),e.YNc(69,re,2,0,"div",10),e.YNc(70,te,2,0,"div",10),e.YNc(71,oe,2,0,"div",10),e.qZA(),e.TgZ(72,"div",7),e._UZ(73,"input",31),e.TgZ(74,"label",32),e._uU(75,"Repetir contrase\xf1a"),e.qZA(),e.YNc(76,ne,2,0,"div",10),e.YNc(77,ie,2,0,"div",10),e.qZA(),e.TgZ(78,"div",33)(79,"div",34)(80,"button",35),e._uU(81,"Crear cuenta"),e.qZA()()(),e.TgZ(82,"div",36)(83,"p"),e._uU(84,"\xbfYa posees una cuenta? "),e.TgZ(85,"a",37),e._uU(86,"Inicia Sesi\xf3n"),e.qZA()()()()()()()()(),e._UZ(87,"app-footer")),2&n){let l,s,m,g,p,d,c,f,_,v,h,Z,F,U,T,I,E,A,b,N,C;e.xp6(6),e.Q6J("formGroup",t.registerForm),e.xp6(7),e.Q6J("ngIf",(null==(l=t.registerForm.get("nombre"))?null:l.hasError("minlength"))&&(null==(l=t.registerForm.get("nombre"))?null:l.touched)),e.xp6(1),e.Q6J("ngIf",(null==(s=t.registerForm.get("nombre"))?null:s.hasError("maxlength"))&&(null==(s=t.registerForm.get("nombre"))?null:s.touched)),e.xp6(1),e.Q6J("ngIf",(null==(m=t.registerForm.get("nombre"))?null:m.hasError("required"))&&(null==(m=t.registerForm.get("nombre"))?null:m.touched)),e.xp6(1),e.Q6J("ngIf",(null==(g=t.registerForm.get("nombre"))?null:g.hasError("pattern"))&&(null==(g=t.registerForm.get("nombre"))?null:g.touched)),e.xp6(5),e.Q6J("ngIf",(null==(p=t.registerForm.get("apellido"))?null:p.hasError("minlength"))&&(null==(p=t.registerForm.get("apellido"))?null:p.touched)),e.xp6(1),e.Q6J("ngIf",(null==(d=t.registerForm.get("apellido"))?null:d.hasError("maxlength"))&&(null==(d=t.registerForm.get("apellido"))?null:d.touched)),e.xp6(1),e.Q6J("ngIf",(null==(c=t.registerForm.get("apellido"))?null:c.hasError("required"))&&(null==(c=t.registerForm.get("apellido"))?null:c.touched)),e.xp6(1),e.Q6J("ngIf",(null==(f=t.registerForm.get("apellido"))?null:f.hasError("pattern"))&&(null==(f=t.registerForm.get("apellido"))?null:f.touched)),e.xp6(6),e.Q6J("ngIf",(null==(_=t.registerForm.get("telefono"))?null:_.hasError("required"))&&(null==(_=t.registerForm.get("telefono"))?null:_.touched)),e.xp6(1),e.Q6J("ngIf",(null==(v=t.registerForm.get("telefono"))?null:v.hasError("pattern"))&&(null==(v=t.registerForm.get("telefono"))?null:v.touched)),e.xp6(5),e.Q6J("ngIf",(null==(h=t.registerForm.get("nit"))?null:h.hasError("pattern"))&&(null==(h=t.registerForm.get("nit"))?null:h.touched)),e.xp6(5),e.Q6J("ngForOf",t.departments),e.xp6(7),e.Q6J("ngForOf",t.municipalities),e.xp6(7),e.Q6J("ngIf",(null==(Z=t.registerForm.get("direccion"))?null:Z.hasError("pattern"))&&(null==(Z=t.registerForm.get("direccion"))?null:Z.touched)),e.xp6(1),e.Q6J("ngIf",(null==(F=t.registerForm.get("direccion"))?null:F.hasError("minlength"))&&(null==(F=t.registerForm.get("direccion"))?null:F.touched)),e.xp6(1),e.Q6J("ngIf",(null==(U=t.registerForm.get("direccion"))?null:U.hasError("maxlength"))&&(null==(U=t.registerForm.get("direccion"))?null:U.touched)),e.xp6(5),e.Q6J("ngIf",(null==(T=t.registerForm.get("correo"))?null:T.hasError("required"))&&(null==(T=t.registerForm.get("correo"))?null:T.touched)),e.xp6(1),e.Q6J("ngIf",(null==(I=t.registerForm.get("correo"))?null:I.hasError("email"))&&(null==(I=t.registerForm.get("correo"))?null:I.touched)),e.xp6(1),e.Q6J("ngIf",(null==(E=t.registerForm.get("correo"))?null:E.hasError("maxlength"))&&(null==(E=t.registerForm.get("correo"))?null:E.touched)),e.xp6(5),e.Q6J("ngIf",(null==(A=t.registerForm.get("password"))?null:A.hasError("required"))&&(null==(A=t.registerForm.get("password"))?null:A.touched)),e.xp6(1),e.Q6J("ngIf",(null==(b=t.registerForm.get("password"))?null:b.hasError("pattern"))&&(null==(b=t.registerForm.get("password"))?null:b.touched)),e.xp6(1),e.Q6J("ngIf",(null==(N=t.registerForm.get("password"))?null:N.hasError("minlength"))&&(null==(N=t.registerForm.get("password"))?null:N.touched)),e.xp6(5),e.Q6J("ngIf",(null==(C=t.registerForm.get("repetir_password"))?null:C.hasError("required"))&&(null==(C=t.registerForm.get("repetir_password"))?null:C.touched)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.registerForm.hasError("passwordsNotMatch")),e.xp6(8),e.Q6J("routerLink",e.DdM(26,le))}},dependencies:[w.sg,w.O5,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.JJ,o.JL,o.wO,o.nD,o.sg,o.u,u.rH,D.w,Y.c]}),r})()}];let ae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[u.Bz.forChild(se),u.Bz]}),r})();var ue=a(335);let me=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[w.ez,o.UX,o.u5,ae,ue.d]}),r})()}}]);